<?xml version="1.0" encoding="windows-1252" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1640px" preserveAspectRatio="none" style="width:1618px;height:1640px;background:#FFFFFF;" version="1.1" viewBox="0 0 1618 1640" width="1618px" zoomAndPan="magnify"><defs/><g><rect fill="#ADD8E6" height="1628.6406" style="stroke:#181818;stroke-width:0.5;" width="496.5" x="336" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="108" x="530.25" y="18.0669">User's Devices</text><rect fill="#FFFFFF" height="51.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="33.5" y="91.2969"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="33.5" y="411.625"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="33.5" y="905.1563"/><rect fill="#FFFFFF" height="1000.1875" style="stroke:#181818;stroke-width:1.0;" width="10" x="397.5" y="440.7578"/><rect fill="#FFFFFF" height="299.1953" style="stroke:#181818;stroke-width:1.0;" width="10" x="777.5" y="112.4297"/><rect fill="#FFFFFF" height="89.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="777.5" y="1440.9453"/><rect fill="#FFFFFF" height="186.7969" style="stroke:#181818;stroke-width:1.0;" width="10" x="1290.5" y="171.5625"/><rect fill="#FFFFFF" height="122.2031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1290.5" y="627.4219"/><rect fill="#FFFFFF" height="409.125" style="stroke:#181818;stroke-width:1.0;" width="10" x="1290.5" y="978.5547"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1290.5" y="1501.2109"/><rect fill="none" height="159.6641" style="stroke:#000000;stroke-width:1.5;" width="828.5" x="10" y="373.3594"/><rect fill="none" height="132.3359" style="stroke:#000000;stroke-width:1.5;" width="1271.5" x="330" y="589.1563"/><rect fill="none" height="46.2656" style="stroke:#000000;stroke-width:1.5;" width="508.5" x="330" y="1402.6797"/><rect fill="none" height="75.3984" style="stroke:#000000;stroke-width:1.5;" width="633.5" x="726.5" y="1462.9453"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="38" x2="38" y1="81.2969" y2="1555.3438"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="402" x2="402" y1="81.2969" y2="1555.3438"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="782.5" x2="782.5" y1="81.2969" y2="1555.3438"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1295" x2="1295" y1="81.2969" y2="1555.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="20" y="77.9951">User</text><ellipse cx="38.5" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M38.5,21.5 L38.5,48.5 M25.5,29.5 L51.5,29.5 M38.5,48.5 L25.5,63.5 M38.5,48.5 L51.5,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="20" y="1567.3389">User</text><ellipse cx="38.5" cy="1579.1406" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M38.5,1587.1406 L38.5,1614.1406 M25.5,1595.1406 L51.5,1595.1406 M38.5,1614.1406 L25.5,1629.1406 M38.5,1614.1406 L51.5,1629.1406 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125" x="340" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="347" y="69.9951">Wallet Instance</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125" x="340" y="1554.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="347" y="1574.3389">Wallet Instance</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="736.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="743.5" y="69.9951">user-agent</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="736.5" y="1554.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="743.5" y="1574.3389">user-agent</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="1241" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="1248" y="69.9951">Relying Party</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="1241" y="1554.3438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="1248" y="1574.3389">Relying Party</text><rect fill="#FFFFFF" height="51.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="33.5" y="91.2969"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="33.5" y="411.625"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="33.5" y="905.1563"/><rect fill="#FFFFFF" height="1000.1875" style="stroke:#181818;stroke-width:1.0;" width="10" x="397.5" y="440.7578"/><rect fill="#FFFFFF" height="299.1953" style="stroke:#181818;stroke-width:1.0;" width="10" x="777.5" y="112.4297"/><rect fill="#FFFFFF" height="89.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="777.5" y="1440.9453"/><rect fill="#FFFFFF" height="186.7969" style="stroke:#181818;stroke-width:1.0;" width="10" x="1290.5" y="171.5625"/><rect fill="#FFFFFF" height="122.2031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1290.5" y="627.4219"/><rect fill="#FFFFFF" height="409.125" style="stroke:#181818;stroke-width:1.0;" width="10" x="1290.5" y="978.5547"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1290.5" y="1501.2109"/><polygon fill="#181818" points="765.5,108.4297,775.5,112.4297,765.5,116.4297,769.5,112.4297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="43.5" x2="771.5" y1="112.4297" y2="112.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="50.5" y="107.3638">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="63.5" y="107.3638">Web Service navigation</text><polygon fill="#181818" points="1278.5,167.5625,1288.5,171.5625,1278.5,175.5625,1282.5,171.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="787.5" x2="1284.5" y1="171.5625" y2="171.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="794.5" y="166.4966">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="807.5" y="166.4966">Request Protected Resource</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1611.5" x="0" y="200.1289"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1611.5" y1="200.1289" y2="200.1289"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1611.5" y1="203.1289" y2="203.1289"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="169" x="721.25" y="189.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="150" x="727.25" y="205.6294">Presentation Phase</text><line style="stroke:#181818;stroke-width:1.0;" x1="1300.5" x2="1342.5" y1="258.9609" y2="258.9609"/><line style="stroke:#181818;stroke-width:1.0;" x1="1342.5" x2="1342.5" y1="258.9609" y2="271.9609"/><line style="stroke:#181818;stroke-width:1.0;" x1="1301.5" x2="1342.5" y1="271.9609" y2="271.9609"/><polygon fill="#181818" points="1311.5,267.9609,1301.5,271.9609,1311.5,275.9609,1307.5,271.9609" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8" x="1307.5" y="246.3286">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55" x="1319.5" y="238.7622">Create a</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="42" x="1378.5" y="238.7622">state</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="1424.5" y="238.7622">value</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="1319.5" y="253.895">bound to user-agent cookie</text><line style="stroke:#181818;stroke-width:1.0;" x1="1300.5" x2="1342.5" y1="301.0938" y2="301.0938"/><line style="stroke:#181818;stroke-width:1.0;" x1="1342.5" x2="1342.5" y1="301.0938" y2="314.0938"/><line style="stroke:#181818;stroke-width:1.0;" x1="1301.5" x2="1342.5" y1="314.0938" y2="314.0938"/><polygon fill="#181818" points="1311.5,310.0938,1301.5,314.0938,1311.5,318.0938,1307.5,314.0938" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1307.5" y="296.0278">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179" x="1320.5" y="296.0278">Create request_uri resource</text><polygon fill="#181818" points="798.5,354.3594,788.5,358.3594,798.5,362.3594,794.5,358.3594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="792.5" x2="1294.5" y1="358.3594" y2="358.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="804.5" y="345.7271">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="238" x="817.5" y="338.1606">QRCode OR HTTP Redirect (302) with</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="444" x="817.5" y="353.2935">client_id, request_uri, state, [request_uri_method] [client_id_scheme]</text><path d="M10,373.3594 L188,373.3594 L188,380.4922 L178,390.4922 L10,390.4922 L10,373.3594 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="159.6641" style="stroke:#000000;stroke-width:1.5;" width="828.5" x="10" y="373.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="133" x="25" y="386.4263">Cross Device only</text><polygon fill="#181818" points="54.5,407.625,44.5,411.625,54.5,415.625,50.5,411.625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="48.5" x2="781.5" y1="411.625" y2="411.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="60.5" y="406.5591">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="73.5" y="406.5591">Show the QRCode page</text><polygon fill="#181818" points="385.5,436.7578,395.5,440.7578,385.5,444.7578,389.5,440.7578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="38.5" x2="391.5" y1="440.7578" y2="440.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="45.5" y="435.6919">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="322" x="58.5" y="435.6919">Open the Wallet Instance app, local authentication</text><line style="stroke:#181818;stroke-width:1.0;" x1="407.5" x2="449.5" y1="469.8906" y2="469.8906"/><line style="stroke:#181818;stroke-width:1.0;" x1="449.5" x2="449.5" y1="469.8906" y2="482.8906"/><line style="stroke:#181818;stroke-width:1.0;" x1="408.5" x2="449.5" y1="482.8906" y2="482.8906"/><polygon fill="#181818" points="418.5,478.8906,408.5,482.8906,418.5,486.8906,414.5,482.8906" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="414.5" y="464.8247">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="427.5" y="464.8247">Scan QR Code</text><line style="stroke:#181818;stroke-width:1.0;" x1="407.5" x2="449.5" y1="512.0234" y2="512.0234"/><line style="stroke:#181818;stroke-width:1.0;" x1="449.5" x2="449.5" y1="512.0234" y2="525.0234"/><line style="stroke:#181818;stroke-width:1.0;" x1="408.5" x2="449.5" y1="525.0234" y2="525.0234"/><polygon fill="#181818" points="418.5,521.0234,408.5,525.0234,418.5,529.0234,414.5,525.0234" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="414.5" y="506.9575">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="270" x="427.5" y="506.9575">Extract the parameters from the QR Code</text><line style="stroke:#181818;stroke-width:1.0;" x1="407.5" x2="449.5" y1="561.1563" y2="561.1563"/><line style="stroke:#181818;stroke-width:1.0;" x1="449.5" x2="449.5" y1="561.1563" y2="574.1563"/><line style="stroke:#181818;stroke-width:1.0;" x1="408.5" x2="449.5" y1="574.1563" y2="574.1563"/><polygon fill="#181818" points="418.5,570.1563,408.5,574.1563,418.5,578.1563,414.5,574.1563" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="414.5" y="556.0903">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="333" x="437.5" y="556.0903">evaluates trust with the client_id [client_id_scheme]</text><path d="M330,589.1563 L396,589.1563 L396,596.2891 L386,606.2891 L330,606.2891 L330,589.1563 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="132.3359" style="stroke:#000000;stroke-width:1.5;" width="1271.5" x="330" y="589.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="345" y="602.2231">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="273" x="411" y="601.3667">[if request_uri_method is set with POST]</text><polygon fill="#181818" points="1278.5,623.4219,1288.5,627.4219,1278.5,631.4219,1282.5,627.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="407.5" x2="1284.5" y1="627.4219" y2="627.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="414.5" y="622.356">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="344" x="436.5" y="622.356">provides Wallet metadata to the request_uri endpoint</text><line style="stroke:#181818;stroke-width:1.0;" x1="1300.5" x2="1342.5" y1="656.5547" y2="656.5547"/><line style="stroke:#181818;stroke-width:1.0;" x1="1342.5" x2="1342.5" y1="656.5547" y2="669.5547"/><line style="stroke:#181818;stroke-width:1.0;" x1="1301.5" x2="1342.5" y1="669.5547" y2="669.5547"/><polygon fill="#181818" points="1311.5,665.5547,1301.5,669.5547,1311.5,673.5547,1307.5,669.5547" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1307.5" y="651.4888">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260" x="1329.5" y="651.4888">evaluates the Wallet tecnical capabilities</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="330" x2="1601.5" y1="678.5547" y2="678.5547"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="366" x="335" y="688.7651">[if request_uri_method is set with GET or not present]</text><polygon fill="#181818" points="1278.5,709.4922,1288.5,713.4922,1278.5,717.4922,1282.5,713.4922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="407.5" x2="1284.5" y1="713.4922" y2="713.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="414.5" y="708.4263">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="419" x="435.5" y="708.4263">requests the signed request object from the request_uri endpoint</text><polygon fill="#181818" points="418.5,745.625,408.5,749.625,418.5,753.625,414.5,749.625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="412.5" x2="1294.5" y1="749.625" y2="749.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="424.5" y="744.5591">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="446.5" y="744.5591">signed request object</text><line style="stroke:#181818;stroke-width:1.0;" x1="407.5" x2="449.5" y1="778.7578" y2="778.7578"/><line style="stroke:#181818;stroke-width:1.0;" x1="449.5" x2="449.5" y1="778.7578" y2="791.7578"/><line style="stroke:#181818;stroke-width:1.0;" x1="408.5" x2="449.5" y1="791.7578" y2="791.7578"/><polygon fill="#181818" points="418.5,787.7578,408.5,791.7578,418.5,795.7578,414.5,791.7578" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="414.5" y="773.6919">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="295" x="436.5" y="773.6919">evaluates Relying Party Metadata and policies</text><line style="stroke:#181818;stroke-width:1.0;" x1="407.5" x2="449.5" y1="820.8906" y2="820.8906"/><line style="stroke:#181818;stroke-width:1.0;" x1="449.5" x2="449.5" y1="820.8906" y2="833.8906"/><line style="stroke:#181818;stroke-width:1.0;" x1="408.5" x2="449.5" y1="833.8906" y2="833.8906"/><polygon fill="#181818" points="418.5,829.8906,408.5,833.8906,418.5,837.8906,414.5,833.8906" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="414.5" y="815.8247">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="292" x="436.5" y="815.8247">Verify signature of the signed Request Object</text><line style="stroke:#181818;stroke-width:1.0;" x1="407.5" x2="449.5" y1="863.0234" y2="863.0234"/><line style="stroke:#181818;stroke-width:1.0;" x1="449.5" x2="449.5" y1="863.0234" y2="876.0234"/><line style="stroke:#181818;stroke-width:1.0;" x1="408.5" x2="449.5" y1="876.0234" y2="876.0234"/><polygon fill="#181818" points="418.5,872.0234,408.5,876.0234,418.5,880.0234,414.5,876.0234" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="414.5" y="857.9575">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159" x="436.5" y="857.9575">Validate requested VP(s)</text><polygon fill="#181818" points="54.5,901.1563,44.5,905.1563,54.5,909.1563,50.5,905.1563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="48.5" x2="396.5" y1="905.1563" y2="905.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="60.5" y="900.0903">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="82.5" y="900.0903">Request for consent</text><polygon fill="#181818" points="385.5,930.2891,395.5,934.2891,385.5,938.2891,389.5,934.2891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="38.5" x2="391.5" y1="934.2891" y2="934.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="45.5" y="929.2231">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="67.5" y="929.2231">Confirmed</text><polygon fill="#181818" points="1278.5,974.5547,1288.5,978.5547,1278.5,982.5547,1282.5,978.5547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="407.5" x2="1284.5" y1="978.5547" y2="978.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="414.5" y="965.9224">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="437.5" y="958.356">POST Authorization Response</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="299" x="441.5" y="973.4888">with vp_token, state, presentation_submission</text><line style="stroke:#181818;stroke-width:1.0;" x1="1300.5" x2="1342.5" y1="1007.6875" y2="1007.6875"/><line style="stroke:#181818;stroke-width:1.0;" x1="1342.5" x2="1342.5" y1="1007.6875" y2="1020.6875"/><line style="stroke:#181818;stroke-width:1.0;" x1="1301.5" x2="1342.5" y1="1020.6875" y2="1020.6875"/><polygon fill="#181818" points="1311.5,1016.6875,1301.5,1020.6875,1311.5,1024.6875,1307.5,1020.6875" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1307.5" y="1002.6216">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="270" x="1329.5" y="1002.6216">Evaluate the Verifiable Presentation token</text><line style="stroke:#181818;stroke-width:1.0;" x1="1300.5" x2="1342.5" y1="1095.2188" y2="1095.2188"/><line style="stroke:#181818;stroke-width:1.0;" x1="1342.5" x2="1342.5" y1="1095.2188" y2="1108.2188"/><line style="stroke:#181818;stroke-width:1.0;" x1="1301.5" x2="1342.5" y1="1108.2188" y2="1108.2188"/><polygon fill="#181818" points="1311.5,1104.2188,1301.5,1108.2188,1311.5,1112.2188,1307.5,1108.2188" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1307.5" y="1067.4536">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="1329.5" y="1044.7544">Validate the Wallet Attestation.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="1329.5" y="1059.8872">Attest the Wallet Provider</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="1333.5" y="1075.02">is part of the Federation</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="250" x="1333.5" y="1090.1528">and the Wallet Instance is not revoked.</text><line style="stroke:#181818;stroke-width:1.0;" x1="1300.5" x2="1342.5" y1="1152.4844" y2="1152.4844"/><line style="stroke:#181818;stroke-width:1.0;" x1="1342.5" x2="1342.5" y1="1152.4844" y2="1165.4844"/><line style="stroke:#181818;stroke-width:1.0;" x1="1301.5" x2="1342.5" y1="1165.4844" y2="1165.4844"/><polygon fill="#181818" points="1311.5,1161.4844,1301.5,1165.4844,1311.5,1169.4844,1307.5,1165.4844" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="1307.5" y="1139.8521">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="1328.5" y="1132.2856">Attest Credential Issuer Trust</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174" x="1332.5" y="1147.4185">and Validate JWT Signature</text><line style="stroke:#181818;stroke-width:1.0;" x1="1300.5" x2="1342.5" y1="1194.6172" y2="1194.6172"/><line style="stroke:#181818;stroke-width:1.0;" x1="1342.5" x2="1342.5" y1="1194.6172" y2="1207.6172"/><line style="stroke:#181818;stroke-width:1.0;" x1="1301.5" x2="1342.5" y1="1207.6172" y2="1207.6172"/><polygon fill="#181818" points="1311.5,1203.6172,1301.5,1207.6172,1311.5,1211.6172,1307.5,1207.6172" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1307.5" y="1189.5513">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="1329.5" y="1189.5513">Process the credential</text><rect fill="#90EE90" height="83" style="stroke:#181818;stroke-width:0.5;" width="525" x="1033" y="1220.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="1037" y="1236.6841">Process the credential:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="325" x="1041" y="1251.8169">Check Holder Key Binding and Proof of Possession:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="437" x="1041" y="1266.9497">- using the public key bound in the Credential to verify the VP token.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1037" y="1282.0825"> </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="513" x="1041" y="1297.2153">Then extract the disclosed attributes: check if all the required data are available</text><line style="stroke:#181818;stroke-width:1.0;" x1="1300.5" x2="1342.5" y1="1330.4141" y2="1330.4141"/><line style="stroke:#181818;stroke-width:1.0;" x1="1342.5" x2="1342.5" y1="1330.4141" y2="1343.4141"/><line style="stroke:#181818;stroke-width:1.0;" x1="1301.5" x2="1342.5" y1="1343.4141" y2="1343.4141"/><polygon fill="#181818" points="1311.5,1339.4141,1301.5,1343.4141,1311.5,1347.4141,1307.5,1343.4141" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1307.5" y="1325.3481">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="268" x="1329.5" y="1325.3481">Update the User session (cookie updated)</text><polygon fill="#181818" points="418.5,1383.6797,408.5,1387.6797,418.5,1391.6797,414.5,1387.6797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="412.5" x2="1294.5" y1="1387.6797" y2="1387.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="424.5" y="1375.0474">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="446.5" y="1367.481">HTTP/1.1 200 OK</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="298" x="450.5" y="1382.6138">{"redirect_uri": https url with response_code }</text><path d="M330,1402.6797 L506,1402.6797 L506,1409.8125 L496,1419.8125 L330,1419.8125 L330,1402.6797 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="46.2656" style="stroke:#000000;stroke-width:1.5;" width="508.5" x="330" y="1402.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="131" x="345" y="1415.7466">Same Device only</text><polygon fill="#181818" points="765.5,1436.9453,775.5,1440.9453,765.5,1444.9453,769.5,1440.9453" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="402.5" x2="771.5" y1="1440.9453" y2="1440.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="409.5" y="1435.8794">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="431.5" y="1435.8794">Use the redirect_uri</text><path d="M726.5,1462.9453 L904.5,1462.9453 L904.5,1470.0781 L894.5,1480.0781 L726.5,1480.0781 L726.5,1462.9453 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="75.3984" style="stroke:#000000;stroke-width:1.5;" width="633.5" x="726.5" y="1462.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="133" x="741.5" y="1476.0122">Cross Device only</text><polygon fill="#181818" points="1278.5,1497.2109,1288.5,1501.2109,1278.5,1505.2109,1282.5,1501.2109" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="787.5" x2="1284.5" y1="1501.2109" y2="1501.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="794.5" y="1496.145">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="425" x="816.5" y="1496.145">QRCode JS: Check authentication state (HTTP request with cookie)</text><polygon fill="#181818" points="793.5,1526.3438,783.5,1530.3438,793.5,1534.3438,789.5,1530.3438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="787.5" x2="1294.5" y1="1530.3438" y2="1530.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="799.5" y="1525.2778">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="457" x="821.5" y="1525.2778">Authentication state given with HTTP codes, untill expired or successful</text><!--SRC=[XLRRJYD747tlhoYn3m44XDsyMI8IImYmb-1Wx_AmhApsJDdkC7HF-ZA6HFdtdEuU3pDW9OW7tDJbrAbJLPR16nqUvco54AU5DvPslZYsEoGT1I7cvZ4__E3e5svKmMw7tdnIovL_NmKMjRHU5QgMsjFEhQmgzdIbdPUwu1HZFJG927KebwnzpY05wvAGPMXsmzMJqaiQu_4fMJOiX2oyQgHd00jq-3EyHtJBSvgmZSX8oqOjfLT6zqobABdlAADdmoEwuJy3EqzZQpmNdakyE1DiWKmd9tXc1vWf78rNqZ6Td3p71Pw6Dw7EBCStIVlxADtp_Zur4lJSwRa9gCyRUYwS2cFkrHPtcm7DWbNukuMIhMAblz-ScPBf-eOkfzCnm9RA0ZVj_dJyRe_Mog_kT54fP9Yfyg0VxO0IgWFwrdkSFR1VcV8xVUkSPgvOyGD_xpCMUSVFqffG0wXn6nsGqTLJIsSOqMHbrkHNl85PezO1y_95- -2s7j5rpJgvlT0EoRe-eCeKiY8POA0XZjpQGJkxFzTYJJdaf90QA2Z2w1xF7xs5RKe5fKaKpzRHmfg75dMsXnf5vyInYGZkoDi0fKIEatN7s3RoXAmygGMzvfgK8yTjdF7rP2e8F-kD36fh6bKYMyi5d6GflOpoYLdx-W3EsYZjKuH-i-BdPsNrAdZc66hNAX9Ro5hELQMyOYUuWiB_7_R5-PIm9BJnm9icHFHhQBrpFgUM6cFLlf6P_n7rsd6-jPxKW5X0Ri7M4A_q-RfXWmL2dpTCIWnZRIhi6LIyyVhALYsUKYhfWuMo5ttucprndNDtNh9IPMziOVbrlElsia5utYyBq5KOdQZQDW9dHY-KVU1ogEoEqYWKEiKC6Al-oki8YwgE4UbEvwuqzSoRUzRTfDUzxJLpOVwWd1linS7-EczvIsKdEfISLppSWIb1pwaZe2UjKm_oi_qHmEMFVODnrhW5SAWgxlmDsxyodfCd_XVxj6qhm2Sgpt83CELH3qsR2gkqZBi2whvoBh2bQHpTDcG7-SFjb2QRVlUY01ukN5PlqOKImY8hTD4W7epVVBgwk9nUt9oV_oQsUum4dQsukATBKw4i-iXFz5xfCaeo0e4NoiRl60kLKslWSeWh4ItIaWfpo9JkuPXlYCfxibSWraAJfPlQDiuTEXA2fjYNnBsLLofNLCP1ez9xg-O1P8seI10nys2vcqWSbPBoi60KP2DL5RKG1pEn87fqVQax0SJl2DIMGhlvn558_o_tg3VHyNZz-FReBRqxFgRhZ-ZCtpkslMLn5UoCQELzZUy6jihYjgtQPqKyBF-8b-EVRzC4EtrmcjQRmmbeRNNFMVenreDl2sa1_VUvYwMtP-x3PDHsUdYbyXpIRZhLc-sLgidKxBsQn1RiwROmIzLmE-afO2J27L207Jh7ZtLg6lQC2qLKuo9KBsxla3BK-2y0]--></g></svg>
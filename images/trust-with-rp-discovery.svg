<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="804px" preserveAspectRatio="none" style="width:837px;height:804px;background:#FFFFFF;" version="1.1" viewBox="0 0 837 804" width="837px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="354.7266" style="stroke:#000000;stroke-width:1.5;" width="820.2852" x="10" y="153.6953"/><rect fill="none" height="147.7969" style="stroke:#000000;stroke-width:1.5;" width="800.2852" x="20" y="353.625"/><rect fill="none" height="103.3984" style="stroke:#000000;stroke-width:1.5;" width="319.9224" x="20" y="564.5547"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="91" x2="91" y1="36.2969" y2="769.2188"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="538.1758" x2="538.1758" y1="36.2969" y2="769.2188"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="705.3428" x2="705.3428" y1="36.2969" y2="769.2188"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="122.3018" x="30" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.3018" x="37" y="24.9951">Wallet Instance</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="122.3018" x="30" y="768.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.3018" x="37" y="788.2139">Wallet Instance</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="107.167" x="485.1758" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93.167" x="492.1758" y="24.9951">Relying Party</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="107.167" x="485.1758" y="768.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93.167" x="492.1758" y="788.2139">Relying Party</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="207.9424" x="602.3428" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="193.9424" x="609.3428" y="24.9951">Trust Anchor / Intermediate</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="207.9424" x="602.3428" y="768.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="193.9424" x="609.3428" y="788.2139">Trust Anchor / Intermediate</text><line style="stroke:#181818;stroke-width:1.0;" x1="536.7593" x2="526.7593" y1="67.4297" y2="63.4297"/><line style="stroke:#181818;stroke-width:1.0;" x1="536.7593" x2="526.7593" y1="67.4297" y2="71.4297"/><line style="stroke:#181818;stroke-width:1.0;" x1="91.1509" x2="537.7593" y1="67.4297" y2="67.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190.0044" x="98.1509" y="62.3638">request a protected resource</text><line style="stroke:#181818;stroke-width:1.0;" x1="92.1509" x2="102.1509" y1="96.5625" y2="92.5625"/><line style="stroke:#181818;stroke-width:1.0;" x1="92.1509" x2="102.1509" y1="96.5625" y2="100.5625"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="91.1509" x2="537.7593" y1="96.5625" y2="96.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="253.062" x="108.1509" y="91.4966">signed credential presentation request</text><line style="stroke:#181818;stroke-width:1.0;" x1="91.1509" x2="133.1509" y1="125.6953" y2="125.6953"/><line style="stroke:#181818;stroke-width:1.0;" x1="133.1509" x2="133.1509" y1="125.6953" y2="138.6953"/><line style="stroke:#181818;stroke-width:1.0;" x1="91.1509" x2="133.1509" y1="138.6953" y2="138.6953"/><line style="stroke:#181818;stroke-width:1.0;" x1="92.1509" x2="102.1509" y1="138.6953" y2="134.6953"/><line style="stroke:#181818;stroke-width:1.0;" x1="92.1509" x2="102.1509" y1="138.6953" y2="142.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222.9678" x="98.1509" y="120.6294">decode and evaluates the request</text><path d="M10,153.6953 L74.4429,153.6953 L74.4429,160.8281 L64.4429,170.8281 L10,170.8281 L10,153.6953 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="354.7266" style="stroke:#000000;stroke-width:1.5;" width="820.2852" x="10" y="153.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="25" y="166.7622">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="457.8535" x="89.4429" y="165.9058">[If Trust Chain is provided within the request and no internet connection]</text><line style="stroke:#181818;stroke-width:1.0;" x1="91.1509" x2="133.1509" y1="191.9609" y2="191.9609"/><line style="stroke:#181818;stroke-width:1.0;" x1="133.1509" x2="133.1509" y1="191.9609" y2="204.9609"/><line style="stroke:#181818;stroke-width:1.0;" x1="91.1509" x2="133.1509" y1="204.9609" y2="204.9609"/><line style="stroke:#181818;stroke-width:1.0;" x1="92.1509" x2="102.1509" y1="204.9609" y2="200.9609"/><line style="stroke:#181818;stroke-width:1.0;" x1="92.1509" x2="102.1509" y1="204.9609" y2="208.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="433.6084" x="98.1509" y="186.895">statically validate the Trust Chain using Trust Anchor's public keys</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="830.2852" y1="213.9609" y2="213.9609"/><line style="stroke:#181818;stroke-width:1.0;" x1="536.7593" x2="526.7593" y1="251.2266" y2="247.2266"/><line style="stroke:#181818;stroke-width:1.0;" x1="536.7593" x2="526.7593" y1="251.2266" y2="255.2266"/><line style="stroke:#181818;stroke-width:1.0;" x1="91.1509" x2="537.7593" y1="251.2266" y2="251.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201.6904" x="98.1509" y="231.0278">Fetch RP's Entity Configuration</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214.8809" x="102.2832" y="246.1606">at .well-known/openid-federation</text><line style="stroke:#181818;stroke-width:1.0;" x1="92.1509" x2="102.1509" y1="280.3594" y2="276.3594"/><line style="stroke:#181818;stroke-width:1.0;" x1="92.1509" x2="102.1509" y1="280.3594" y2="284.3594"/><line style="stroke:#181818;stroke-width:1.0;" x1="91.1509" x2="537.7593" y1="280.3594" y2="280.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178.3311" x="108.1509" y="275.2935">Return Entity Configuration</text><line style="stroke:#181818;stroke-width:1.0;" x1="536.7593" x2="526.7593" y1="309.4922" y2="305.4922"/><line style="stroke:#181818;stroke-width:1.0;" x1="536.7593" x2="526.7593" y1="309.4922" y2="313.4922"/><line style="stroke:#181818;stroke-width:1.0;" x1="91.1509" x2="537.7593" y1="309.4922" y2="309.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="306.8076" x="98.1509" y="304.4263">Extract Authority Hints from RP's Configuration</text><line style="stroke:#181818;stroke-width:1.0;" x1="92.1509" x2="102.1509" y1="338.625" y2="334.625"/><line style="stroke:#181818;stroke-width:1.0;" x1="92.1509" x2="102.1509" y1="338.625" y2="342.625"/><line style="stroke:#181818;stroke-width:1.0;" x1="91.1509" x2="537.7593" y1="338.625" y2="338.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150.6235" x="108.1509" y="333.5591">Provide Authority Hints</text><path d="M20,353.625 L96.624,353.625 L96.624,360.7578 L86.624,370.7578 L20,370.7578 L20,353.625 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="147.7969" style="stroke:#000000;stroke-width:1.5;" width="800.2852" x="20" y="353.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="31.624" x="35" y="366.6919">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="153.2266" x="111.624" y="365.8354">[for each Authority Hint]</text><line style="stroke:#181818;stroke-width:1.0;" x1="704.314" x2="694.314" y1="391.8906" y2="387.8906"/><line style="stroke:#181818;stroke-width:1.0;" x1="704.314" x2="694.314" y1="391.8906" y2="395.8906"/><line style="stroke:#181818;stroke-width:1.0;" x1="91.1509" x2="705.314" y1="391.8906" y2="391.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="382.5161" x="98.1509" y="386.8247">Fetch Entity Configuration -&gt; get federation_fetch_api URL</text><line style="stroke:#181818;stroke-width:1.0;" x1="92.1509" x2="102.1509" y1="421.0234" y2="417.0234"/><line style="stroke:#181818;stroke-width:1.0;" x1="92.1509" x2="102.1509" y1="421.0234" y2="425.0234"/><line style="stroke:#181818;stroke-width:1.0;" x1="91.1509" x2="705.314" y1="421.0234" y2="421.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="191.8389" x="108.1509" y="415.9575">Fetch Subordinate Statement</text><line style="stroke:#181818;stroke-width:1.0;" x1="91.1509" x2="133.1509" y1="480.4219" y2="480.4219"/><line style="stroke:#181818;stroke-width:1.0;" x1="133.1509" x2="133.1509" y1="480.4219" y2="493.4219"/><line style="stroke:#181818;stroke-width:1.0;" x1="91.1509" x2="133.1509" y1="493.4219" y2="493.4219"/><line style="stroke:#181818;stroke-width:1.0;" x1="92.1509" x2="102.1509" y1="493.4219" y2="489.4219"/><line style="stroke:#181818;stroke-width:1.0;" x1="92.1509" x2="102.1509" y1="493.4219" y2="497.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="209.9233" x="98.1509" y="445.0903">Validate the previous statement</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211.8594" x="98.1509" y="460.2231">using the Federation Entity Keys</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="254.687" x="98.1509" y="475.356">provided in the Subordinate Statement</text><line style="stroke:#181818;stroke-width:1.0;" x1="91.1509" x2="133.1509" y1="536.5547" y2="536.5547"/><line style="stroke:#181818;stroke-width:1.0;" x1="133.1509" x2="133.1509" y1="536.5547" y2="549.5547"/><line style="stroke:#181818;stroke-width:1.0;" x1="91.1509" x2="133.1509" y1="549.5547" y2="549.5547"/><line style="stroke:#181818;stroke-width:1.0;" x1="92.1509" x2="102.1509" y1="549.5547" y2="545.5547"/><line style="stroke:#181818;stroke-width:1.0;" x1="92.1509" x2="102.1509" y1="549.5547" y2="553.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.1899" x="98.1509" y="531.4888">Validate Trust Chain</text><path d="M20,564.5547 L84.4429,564.5547 L84.4429,571.6875 L74.4429,581.6875 L20,581.6875 L20,564.5547 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="103.3984" style="stroke:#000000;stroke-width:1.5;" width="319.9224" x="20" y="564.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="35" y="577.6216">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="235.4795" x="99.4429" y="576.7651">[If Trust Chain is valid and unexpired]</text><line style="stroke:#181818;stroke-width:1.0;" x1="91.1509" x2="133.1509" y1="602.8203" y2="602.8203"/><line style="stroke:#181818;stroke-width:1.0;" x1="133.1509" x2="133.1509" y1="602.8203" y2="615.8203"/><line style="stroke:#181818;stroke-width:1.0;" x1="91.1509" x2="133.1509" y1="615.8203" y2="615.8203"/><line style="stroke:#181818;stroke-width:1.0;" x1="92.1509" x2="102.1509" y1="615.8203" y2="611.8203"/><line style="stroke:#181818;stroke-width:1.0;" x1="92.1509" x2="102.1509" y1="615.8203" y2="619.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212.2783" x="98.1509" y="597.7544">Proceed with Federation Process</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="20" x2="339.9224" y1="624.8203" y2="624.8203"/><line style="stroke:#181818;stroke-width:1.0;" x1="91.1509" x2="133.1509" y1="646.9531" y2="646.9531"/><line style="stroke:#181818;stroke-width:1.0;" x1="133.1509" x2="133.1509" y1="646.9531" y2="659.9531"/><line style="stroke:#181818;stroke-width:1.0;" x1="91.1509" x2="133.1509" y1="659.9531" y2="659.9531"/><line style="stroke:#181818;stroke-width:1.0;" x1="92.1509" x2="102.1509" y1="659.9531" y2="655.9531"/><line style="stroke:#181818;stroke-width:1.0;" x1="92.1509" x2="102.1509" y1="659.9531" y2="663.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157.5488" x="98.1509" y="641.8872">Abort Process with Error</text><line style="stroke:#181818;stroke-width:1.0;" x1="91.1509" x2="133.1509" y1="696.0859" y2="696.0859"/><line style="stroke:#181818;stroke-width:1.0;" x1="133.1509" x2="133.1509" y1="696.0859" y2="709.0859"/><line style="stroke:#181818;stroke-width:1.0;" x1="91.1509" x2="133.1509" y1="709.0859" y2="709.0859"/><line style="stroke:#181818;stroke-width:1.0;" x1="92.1509" x2="102.1509" y1="709.0859" y2="705.0859"/><line style="stroke:#181818;stroke-width:1.0;" x1="92.1509" x2="102.1509" y1="709.0859" y2="713.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100.0708" x="98.1509" y="691.02">Applies Policies</text><line style="stroke:#181818;stroke-width:1.0;" x1="91.1509" x2="133.1509" y1="738.2188" y2="738.2188"/><line style="stroke:#181818;stroke-width:1.0;" x1="133.1509" x2="133.1509" y1="738.2188" y2="751.2188"/><line style="stroke:#181818;stroke-width:1.0;" x1="91.1509" x2="133.1509" y1="751.2188" y2="751.2188"/><line style="stroke:#181818;stroke-width:1.0;" x1="92.1509" x2="102.1509" y1="751.2188" y2="747.2188"/><line style="stroke:#181818;stroke-width:1.0;" x1="92.1509" x2="102.1509" y1="751.2188" y2="755.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173.2847" x="98.1509" y="733.1528">Derive RP's final metadata</text><!--SRC=[bLHDRnf13Btlhx1ooOdcdaCaH8bQjGT4Q7f1YYQpNXXby6pc0yA_xvlPG1O4Y790A-_py_EplQtoqMZJAedqLrdByQU4g4GpgK0tNOXsiPkgxU57pmKpPRirig09NcqF4RDXGSny2f66efVEqntO8liLrqP5C5P7PGSF3s2-9y_lYP6cgFKkievS8nPSyfehb1vau67kFGMp4E2qvveb6cMHp06FAXedEywJDO-fQjQkXWjI4w-LJH0RA2xvYwHI5jOqrBKtMYeZP4AMkpOrL6nCN2BKoobiuiXa1mJ6QYU2rg2j8loka1LoAnh1BK6LgI6hLEYBI27Fe-_wBMIbLsiqlV4sL6m3dokOlN_ag9SqdI1j31lZbaPE6hD8llWu5rAHlctOsi6Rk8tSkPR5r8C6jdUGmfwdTAA5ASVavIHpTKdL-2DwfT5IYcWfv_w0aO4QxrQTs4Ek2n8ctOoEgRhorhcM6gmgAxXm22c0Cnfdmvrpfre3X1OO-PT7Bqq6lwZMq9_fxpqpZkQKv8xvARqwNnl9Ot_2Al2ABuiwfddkBmsEOsrS2cMh2jLSkkN9Rn_tIdSD_SBop6M_u9_BVLuJIrrLvUz_bFLM-ToDbTKlrvI4Frg3Ux_sW31wpP_NsM-nnCFbspZc6gBnkCli6CVUEtzrpyEsjGRVbOd3RUBXcfplxCsQkuLluBgb5KS5vzG_]--></g></svg>
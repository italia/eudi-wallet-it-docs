<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1669px" preserveAspectRatio="none" style="width:1669px;height:1669px;background:#FFFFFF;" version="1.1" viewBox="0 0 1669 1669" width="1669px" zoomAndPan="magnify"><defs/><g><rect fill="#ADD8E6" height="1657.7734" style="stroke:#181818;stroke-width:0.5;" width="509.3291" x="346.5308" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="106.5645" x="547.9131" y="18.0669">User's Devices</text><rect fill="#FFFFFF" height="51.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="33.9551" y="91.2969"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="33.9551" y="411.625"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="33.9551" y="905.1563"/><rect fill="#FFFFFF" height="1000.1875" style="stroke:#181818;stroke-width:1.0;" width="10" x="406.6816" y="440.7578"/><rect fill="#FFFFFF" height="299.1953" style="stroke:#181818;stroke-width:1.0;" width="10" x="801.8452" y="112.4297"/><rect fill="#FFFFFF" height="118.5313" style="stroke:#181818;stroke-width:1.0;" width="10" x="801.8452" y="1440.9453"/><rect fill="#FFFFFF" height="186.7969" style="stroke:#181818;stroke-width:1.0;" width="10" x="1324.7554" y="171.5625"/><rect fill="#FFFFFF" height="122.2031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1324.7554" y="627.4219"/><rect fill="#FFFFFF" height="357.8594" style="stroke:#181818;stroke-width:1.0;" width="10" x="1324.7554" y="978.5547"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1324.7554" y="1530.3438"/><rect fill="none" height="159.6641" style="stroke:#000000;stroke-width:1.5;" width="851.8599" x="10" y="373.3594"/><rect fill="none" height="132.3359" style="stroke:#000000;stroke-width:1.5;" width="1312.3804" x="340.5308" y="589.1563"/><rect fill="none" height="90.5313" style="stroke:#000000;stroke-width:1.5;" width="1052.8081" x="340.5308" y="1358.4141"/><rect fill="none" height="104.5313" style="stroke:#000000;stroke-width:1.5;" width="1052.8081" x="340.5308" y="1462.9453"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="38" x2="38" y1="81.2969" y2="1584.4766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="411.5308" x2="411.5308" y1="81.2969" y2="1584.4766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="806.8306" x2="806.8306" y1="81.2969" y2="1584.4766"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1329.1719" x2="1329.1719" y1="81.2969" y2="1584.4766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="20" y="77.9951">User</text><ellipse cx="38.9551" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M38.9551,21.5 L38.9551,48.5 M25.9551,29.5 L51.9551,29.5 M38.9551,48.5 L25.9551,63.5 M38.9551,48.5 L51.9551,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="20" y="1596.4717">User</text><ellipse cx="38.9551" cy="1608.2734" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M38.9551,1616.2734 L38.9551,1643.2734 M25.9551,1624.2734 L51.9551,1624.2734 M38.9551,1643.2734 L25.9551,1658.2734 M38.9551,1643.2734 L51.9551,1658.2734 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="122.3018" x="350.5308" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.3018" x="357.5308" y="69.9951">Wallet Instance</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="122.3018" x="350.5308" y="1583.4766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.3018" x="357.5308" y="1603.4717">Wallet Instance</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="90.0293" x="761.8306" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.0293" x="768.8306" y="69.9951">user-agent</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="90.0293" x="761.8306" y="1583.4766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.0293" x="768.8306" y="1603.4717">user-agent</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="107.167" x="1276.1719" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93.167" x="1283.1719" y="69.9951">Relying Party</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="107.167" x="1276.1719" y="1583.4766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93.167" x="1283.1719" y="1603.4717">Relying Party</text><rect fill="#FFFFFF" height="51.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="33.9551" y="91.2969"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="33.9551" y="411.625"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="33.9551" y="905.1563"/><rect fill="#FFFFFF" height="1000.1875" style="stroke:#181818;stroke-width:1.0;" width="10" x="406.6816" y="440.7578"/><rect fill="#FFFFFF" height="299.1953" style="stroke:#181818;stroke-width:1.0;" width="10" x="801.8452" y="112.4297"/><rect fill="#FFFFFF" height="118.5313" style="stroke:#181818;stroke-width:1.0;" width="10" x="801.8452" y="1440.9453"/><rect fill="#FFFFFF" height="186.7969" style="stroke:#181818;stroke-width:1.0;" width="10" x="1324.7554" y="171.5625"/><rect fill="#FFFFFF" height="122.2031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1324.7554" y="627.4219"/><rect fill="#FFFFFF" height="357.8594" style="stroke:#181818;stroke-width:1.0;" width="10" x="1324.7554" y="978.5547"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1324.7554" y="1530.3438"/><polygon fill="#181818" points="789.8452,108.4297,799.8452,112.4297,789.8452,116.4297,793.8452,112.4297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="43.9551" x2="795.8452" y1="112.4297" y2="112.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="50.9551" y="107.3638">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154.0449" x="64.0005" y="107.3638">Web Service navigation</text><polygon fill="#181818" points="1312.7554,167.5625,1322.7554,171.5625,1312.7554,175.5625,1316.7554,171.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="811.8452" x2="1318.7554" y1="171.5625" y2="171.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="818.8452" y="166.4966">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184.8691" x="831.8906" y="166.4966">Request Protected Resource</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1662.9111" x="0" y="200.1289"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1662.9111" y1="200.1289" y2="200.1289"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1662.9111" y1="203.1289" y2="203.1289"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="161.5703" x="750.6704" y="189.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="143.0444" x="756.6704" y="205.6294">Presentation Phase</text><line style="stroke:#181818;stroke-width:1.0;" x1="1334.7554" x2="1376.7554" y1="258.9609" y2="258.9609"/><line style="stroke:#181818;stroke-width:1.0;" x1="1376.7554" x2="1376.7554" y1="258.9609" y2="271.9609"/><line style="stroke:#181818;stroke-width:1.0;" x1="1335.7554" x2="1376.7554" y1="271.9609" y2="271.9609"/><polygon fill="#181818" points="1345.7554,267.9609,1335.7554,271.9609,1345.7554,275.9609,1341.7554,271.9609" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="1341.7554" y="246.3286">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55.5801" x="1354.8008" y="238.7622">Create a</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="37.7559" x="1414.5132" y="238.7622">state</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35.5088" x="1456.4014" y="238.7622">value</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179.1753" x="1354.8008" y="253.895">bound to user-agent cookie</text><line style="stroke:#181818;stroke-width:1.0;" x1="1334.7554" x2="1376.7554" y1="301.0938" y2="301.0938"/><line style="stroke:#181818;stroke-width:1.0;" x1="1376.7554" x2="1376.7554" y1="301.0938" y2="314.0938"/><line style="stroke:#181818;stroke-width:1.0;" x1="1335.7554" x2="1376.7554" y1="314.0938" y2="314.0938"/><polygon fill="#181818" points="1345.7554,310.0938,1335.7554,314.0938,1345.7554,318.0938,1341.7554,314.0938" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="1341.7554" y="296.0278">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181.9429" x="1354.8008" y="296.0278">Create request_uri resource</text><polygon fill="#181818" points="822.8452,354.3594,812.8452,358.3594,822.8452,362.3594,818.8452,358.3594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="816.8452" x2="1328.7554" y1="358.3594" y2="358.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="828.8452" y="345.7271">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="242.9883" x="841.8906" y="338.1606">QRCode OR HTTP Redirect (302) with</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="451.1025" x="841.8906" y="353.2935">client_id, request_uri, state, [request_uri_method] [client_id_scheme]</text><path d="M10,373.3594 L184.5874,373.3594 L184.5874,380.4922 L174.5874,390.4922 L10,390.4922 L10,373.3594 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="159.6641" style="stroke:#000000;stroke-width:1.5;" width="851.8599" x="10" y="373.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="129.5874" x="25" y="386.4263">Cross Device only</text><polygon fill="#181818" points="54.9551,407.625,44.9551,411.625,54.9551,415.625,50.9551,411.625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="48.9551" x2="805.8452" y1="411.625" y2="411.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="60.9551" y="406.5591">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153.8228" x="74.0005" y="406.5591">Show the QRCode page</text><polygon fill="#181818" points="394.6816,436.7578,404.6816,440.7578,394.6816,444.7578,398.6816,440.7578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="38.9551" x2="400.6816" y1="440.7578" y2="440.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="45.9551" y="435.6919">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="330.6812" x="59.0005" y="435.6919">Open the Wallet Instance app, local authentication</text><line style="stroke:#181818;stroke-width:1.0;" x1="416.6816" x2="458.6816" y1="469.8906" y2="469.8906"/><line style="stroke:#181818;stroke-width:1.0;" x1="458.6816" x2="458.6816" y1="469.8906" y2="482.8906"/><line style="stroke:#181818;stroke-width:1.0;" x1="417.6816" x2="458.6816" y1="482.8906" y2="482.8906"/><polygon fill="#181818" points="427.6816,478.8906,417.6816,482.8906,427.6816,486.8906,423.6816,482.8906" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="423.6816" y="464.8247">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92.4155" x="436.7271" y="464.8247">Scan QR Code</text><line style="stroke:#181818;stroke-width:1.0;" x1="416.6816" x2="458.6816" y1="512.0234" y2="512.0234"/><line style="stroke:#181818;stroke-width:1.0;" x1="458.6816" x2="458.6816" y1="512.0234" y2="525.0234"/><line style="stroke:#181818;stroke-width:1.0;" x1="417.6816" x2="458.6816" y1="525.0234" y2="525.0234"/><polygon fill="#181818" points="427.6816,521.0234,417.6816,525.0234,427.6816,529.0234,423.6816,525.0234" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="423.6816" y="506.9575">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="272.5112" x="436.7271" y="506.9575">Extract the parameters from the QR Code</text><line style="stroke:#181818;stroke-width:1.0;" x1="416.6816" x2="458.6816" y1="561.1563" y2="561.1563"/><line style="stroke:#181818;stroke-width:1.0;" x1="458.6816" x2="458.6816" y1="561.1563" y2="574.1563"/><line style="stroke:#181818;stroke-width:1.0;" x1="417.6816" x2="458.6816" y1="574.1563" y2="574.1563"/><polygon fill="#181818" points="427.6816,570.1563,417.6816,574.1563,427.6816,578.1563,423.6816,574.1563" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="423.6816" y="556.0903">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="339.0728" x="445.7725" y="556.0903">evaluates trust with the client_id [client_id_scheme]</text><path d="M340.5308,589.1563 L404.9736,589.1563 L404.9736,596.2891 L394.9736,606.2891 L340.5308,606.2891 L340.5308,589.1563 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="132.3359" style="stroke:#000000;stroke-width:1.5;" width="1312.3804" x="340.5308" y="589.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="355.5308" y="602.2231">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="250.5293" x="419.9736" y="601.3667">[if request_uri_method is set with POST]</text><polygon fill="#181818" points="1312.7554,623.4219,1322.7554,627.4219,1312.7554,631.4219,1316.7554,627.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="416.6816" x2="1318.7554" y1="627.4219" y2="627.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="423.6816" y="622.356">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="350.2446" x="445.7725" y="622.356">provides Wallet metadata to the request_uri endpoint</text><line style="stroke:#181818;stroke-width:1.0;" x1="1334.7554" x2="1376.7554" y1="656.5547" y2="656.5547"/><line style="stroke:#181818;stroke-width:1.0;" x1="1376.7554" x2="1376.7554" y1="656.5547" y2="669.5547"/><line style="stroke:#181818;stroke-width:1.0;" x1="1335.7554" x2="1376.7554" y1="669.5547" y2="669.5547"/><polygon fill="#181818" points="1345.7554,665.5547,1335.7554,669.5547,1345.7554,673.5547,1341.7554,669.5547" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="1341.7554" y="651.4888">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="267.0649" x="1363.8462" y="651.4888">evaluates the Wallet tecnical capabilities</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="340.5308" x2="1652.9111" y1="678.5547" y2="678.5547"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="334.7104" x="345.5308" y="688.7651">[if request_uri_method is set with GET or not present]</text><polygon fill="#181818" points="1312.7554,709.4922,1322.7554,713.4922,1312.7554,717.4922,1316.7554,713.4922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="416.6816" x2="1318.7554" y1="713.4922" y2="713.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="423.6816" y="708.4263">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="426.6704" x="445.7725" y="708.4263">requests the signed request object from the request_uri endpoint</text><polygon fill="#181818" points="427.6816,745.625,417.6816,749.625,427.6816,753.625,423.6816,749.625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="421.6816" x2="1328.7554" y1="749.625" y2="749.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="433.6816" y="744.5591">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141.1528" x="455.7725" y="744.5591">signed request object</text><line style="stroke:#181818;stroke-width:1.0;" x1="416.6816" x2="458.6816" y1="778.7578" y2="778.7578"/><line style="stroke:#181818;stroke-width:1.0;" x1="458.6816" x2="458.6816" y1="778.7578" y2="791.7578"/><line style="stroke:#181818;stroke-width:1.0;" x1="417.6816" x2="458.6816" y1="791.7578" y2="791.7578"/><polygon fill="#181818" points="427.6816,787.7578,417.6816,791.7578,427.6816,795.7578,423.6816,791.7578" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="423.6816" y="773.6919">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="301.3613" x="445.7725" y="773.6919">evaluates Relying Party Metadata and policies</text><line style="stroke:#181818;stroke-width:1.0;" x1="416.6816" x2="458.6816" y1="820.8906" y2="820.8906"/><line style="stroke:#181818;stroke-width:1.0;" x1="458.6816" x2="458.6816" y1="820.8906" y2="833.8906"/><line style="stroke:#181818;stroke-width:1.0;" x1="417.6816" x2="458.6816" y1="833.8906" y2="833.8906"/><polygon fill="#181818" points="427.6816,829.8906,417.6816,833.8906,427.6816,837.8906,423.6816,833.8906" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="423.6816" y="815.8247">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="297.1528" x="445.7725" y="815.8247">Verify signature of the signed Request Object</text><line style="stroke:#181818;stroke-width:1.0;" x1="416.6816" x2="458.6816" y1="863.0234" y2="863.0234"/><line style="stroke:#181818;stroke-width:1.0;" x1="458.6816" x2="458.6816" y1="863.0234" y2="876.0234"/><line style="stroke:#181818;stroke-width:1.0;" x1="417.6816" x2="458.6816" y1="876.0234" y2="876.0234"/><polygon fill="#181818" points="427.6816,872.0234,417.6816,876.0234,427.6816,880.0234,423.6816,876.0234" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="423.6816" y="857.9575">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161.2622" x="445.7725" y="857.9575">Validate requested VP(s)</text><polygon fill="#181818" points="54.9551,901.1563,44.9551,905.1563,54.9551,909.1563,50.9551,905.1563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="48.9551" x2="405.6816" y1="905.1563" y2="905.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="60.9551" y="900.0903">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130.9775" x="83.0459" y="900.0903">Request for consent</text><polygon fill="#181818" points="394.6816,930.2891,404.6816,934.2891,394.6816,938.2891,398.6816,934.2891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="38.9551" x2="400.6816" y1="934.2891" y2="934.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="45.9551" y="929.2231">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67.7168" x="68.0459" y="929.2231">Confirmed</text><polygon fill="#181818" points="1312.7554,974.5547,1322.7554,978.5547,1312.7554,982.5547,1316.7554,978.5547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="416.6816" x2="1318.7554" y1="978.5547" y2="978.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="423.6816" y="965.9224">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192.6196" x="445.7725" y="958.356">POST Authorization Response</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="302.396" x="449.9048" y="973.4888">with vp_token, state, presentation_submission</text><line style="stroke:#181818;stroke-width:1.0;" x1="1334.7554" x2="1376.7554" y1="1007.6875" y2="1007.6875"/><line style="stroke:#181818;stroke-width:1.0;" x1="1376.7554" x2="1376.7554" y1="1007.6875" y2="1020.6875"/><line style="stroke:#181818;stroke-width:1.0;" x1="1335.7554" x2="1376.7554" y1="1020.6875" y2="1020.6875"/><polygon fill="#181818" points="1345.7554,1016.6875,1335.7554,1020.6875,1345.7554,1024.6875,1341.7554,1020.6875" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="1341.7554" y="1002.6216">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="275.4883" x="1363.8462" y="1002.6216">Evaluate the Verifiable Presentation token</text><line style="stroke:#181818;stroke-width:1.0;" x1="1334.7554" x2="1376.7554" y1="1095.2188" y2="1095.2188"/><line style="stroke:#181818;stroke-width:1.0;" x1="1376.7554" x2="1376.7554" y1="1095.2188" y2="1108.2188"/><line style="stroke:#181818;stroke-width:1.0;" x1="1335.7554" x2="1376.7554" y1="1108.2188" y2="1108.2188"/><polygon fill="#181818" points="1345.7554,1104.2188,1335.7554,1108.2188,1345.7554,1112.2188,1341.7554,1108.2188" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="1341.7554" y="1067.4536">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204.2231" x="1363.8462" y="1044.7544">Validate the Wallet Attestation.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167.8638" x="1363.8462" y="1059.8872">Attest the Wallet Provider</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157.3774" x="1367.9785" y="1075.02">is part of the Federation</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="255.5947" x="1367.9785" y="1090.1528">and the Wallet Instance is not revoked.</text><line style="stroke:#181818;stroke-width:1.0;" x1="1334.7554" x2="1376.7554" y1="1152.4844" y2="1152.4844"/><line style="stroke:#181818;stroke-width:1.0;" x1="1376.7554" x2="1376.7554" y1="1152.4844" y2="1165.4844"/><line style="stroke:#181818;stroke-width:1.0;" x1="1335.7554" x2="1376.7554" y1="1165.4844" y2="1165.4844"/><polygon fill="#181818" points="1345.7554,1161.4844,1335.7554,1165.4844,1345.7554,1169.4844,1341.7554,1165.4844" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="1341.7554" y="1139.8521">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190.9058" x="1363.8462" y="1132.2856">Attest Credential Issuer Trust</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177.8804" x="1367.9785" y="1147.4185">and Validate JWT Signature</text><line style="stroke:#181818;stroke-width:1.0;" x1="1334.7554" x2="1376.7554" y1="1194.6172" y2="1194.6172"/><line style="stroke:#181818;stroke-width:1.0;" x1="1376.7554" x2="1376.7554" y1="1194.6172" y2="1207.6172"/><line style="stroke:#181818;stroke-width:1.0;" x1="1335.7554" x2="1376.7554" y1="1207.6172" y2="1207.6172"/><polygon fill="#181818" points="1345.7554,1203.6172,1335.7554,1207.6172,1345.7554,1211.6172,1341.7554,1207.6172" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="1341.7554" y="1189.5513">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144.6948" x="1363.8462" y="1189.5513">Process the credential</text><rect fill="#90EE90" height="83" style="stroke:#181818;stroke-width:0.5;" width="537" x="1061" y="1220.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149.0747" x="1065" y="1236.6841">Process the credential:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="330.916" x="1069.1323" y="1251.8169">Check Holder Key Binding and Proof of Possession:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="447.4971" x="1069.1323" y="1266.9497">- using the public key bound in the Credential to verify the VP token.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="1065" y="1282.0825"> </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="524.9956" x="1069.1323" y="1297.2153">Then extract the disclosed attributes: check if all the required data are available</text><line style="stroke:#181818;stroke-width:1.0;" x1="1334.7554" x2="1376.7554" y1="1335.4141" y2="1335.4141"/><line style="stroke:#181818;stroke-width:1.0;" x1="1376.7554" x2="1376.7554" y1="1335.4141" y2="1348.4141"/><line style="stroke:#181818;stroke-width:1.0;" x1="1329.7554" x2="1376.7554" y1="1348.4141" y2="1348.4141"/><polygon fill="#181818" points="1339.7554,1344.4141,1329.7554,1348.4141,1339.7554,1352.4141,1335.7554,1348.4141" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="1341.7554" y="1330.3481">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="273.2222" x="1363.8462" y="1330.3481">Update the User session (cookie updated)</text><path d="M340.5308,1358.4141 L515.2578,1358.4141 L515.2578,1365.5469 L505.2578,1375.5469 L340.5308,1375.5469 L340.5308,1358.4141 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="90.5313" style="stroke:#000000;stroke-width:1.5;" width="1052.8081" x="340.5308" y="1358.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="129.7271" x="355.5308" y="1371.481">Same Device only</text><polygon fill="#181818" points="427.6816,1407.8125,417.6816,1411.8125,427.6816,1415.8125,423.6816,1411.8125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="421.6816" x2="1328.7554" y1="1411.8125" y2="1411.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="433.6816" y="1399.1802">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110.3857" x="455.7725" y="1391.6138">HTTP/1.1 200 OK</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="303.4497" x="459.9048" y="1406.7466">{"redirect_uri": https url with response_code }</text><polygon fill="#181818" points="789.8452,1436.9453,799.8452,1440.9453,789.8452,1444.9453,793.8452,1440.9453" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="411.6816" x2="795.8452" y1="1440.9453" y2="1440.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="418.6816" y="1435.8794">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128.375" x="440.7725" y="1435.8794">Use the redirect_uri</text><path d="M340.5308,1462.9453 L515.1182,1462.9453 L515.1182,1470.0781 L505.1182,1480.0781 L340.5308,1480.0781 L340.5308,1462.9453 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="104.5313" style="stroke:#000000;stroke-width:1.5;" width="1052.8081" x="340.5308" y="1462.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="129.5874" x="355.5308" y="1476.0122">Cross Device only</text><polygon fill="#181818" points="422.6816,1497.2109,412.6816,1501.2109,422.6816,1505.2109,418.6816,1501.2109" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="416.6816" x2="1328.7554" y1="1501.2109" y2="1501.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="428.6816" y="1496.145">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110.3857" x="450.7725" y="1496.145">HTTP/1.1 200 OK</text><polygon fill="#181818" points="1312.7554,1526.3438,1322.7554,1530.3438,1312.7554,1534.3438,1316.7554,1530.3438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="811.8452" x2="1318.7554" y1="1530.3438" y2="1530.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="818.8452" y="1525.2778">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="432.6118" x="840.936" y="1525.2778">QRCode JS: Check authentication state (HTTP request with cookie)</text><polygon fill="#181818" points="817.8452,1555.4766,807.8452,1559.4766,817.8452,1563.4766,813.8452,1559.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="811.8452" x2="1328.7554" y1="1559.4766" y2="1559.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="823.8452" y="1554.4106">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="466.8193" x="845.936" y="1554.4106">Authentication state given with HTTP codes, untill expired or successful</text><!--SRC=[XLPDKnj74BtFh-Z2Xm0513itLP4gJ0XWEq51idqmBjLejoLDM6Osyx4oIUM_vytCQhKBSaMbWtRKtVEw-_NhbS4R7HxdR8KGvuKtblO-EhPx91q58URcMpxumT4ltAY2tHwz-g2MA_-s2YngQRqgL2srfxtFighOqursNkg2Kuprq2GWrB5SilRv1YbObuHRXcPtN3qflQGn3f-IPSD2oCAhHde6i437FyDxH9zvJXEs4HbfsQYbzChedgaK9VSTPVHiU4Ht_5TWvsbiZUV2SuaJPu8jSDFP6OxP0MOAH-ELT4ndPzkumDFm9jI5vNWcwV0GgNi-FAH6eZptUcu2ylE6jebJOSo3sk5kCw1Pi0g_MoZPAcRwnzs5APbkx-XwEXq3RAaiSDF-JwTl3cYj_EfU5vN23JDL7lMZ7L52TKHVUeUpH_OhKtwbBvtJp1KhVkIl_Oh5kkEpj2RK06hSXWTaTFNKbZECQB8oQ_8hti2iaUkWyl9P- -2s7j5jpJgvFUCEoRe-eieKiY8POA11ZjpQGJkxdsknfXnoKaWD51HXT8UNtxo5RReAJ9D8dgsZXJMFBUfi3pQApebZ4n7SaRS1J8arJjPTnNOLJyZAarhGorgJSkIuZJE-dKm5uRFUqA2sfb4bRcjh0ITPIYyZVUAjVNu0PssKzYb2lrdnUSkiNWRR6eFjMiN25hAMSrKfhzW9hi3m_uTzTJabY8Gs7dZJX8X-3grtli-ffSPOjMTavdz6ldOrtvbFQa1C8BTWPuWN_7pPi860q6-RIaeCOsqgw0motdXzOgiMJ-agwOC5inTz-1kTkCrtTrwoKcLlR67vQRpl3h91sEhB0kKgZ4wbsZK25qOlb7taSiZihgIHA7IE6J1M_Ptb249LnuXqhtDNcdhcpGFhRjBhddhDN9W_AkS6kZZGhyksRYdjL0ubvnKFDJ1Tq7Fg2j2Zrhb7yRFz2S3bnxx1E7FS0ZXO5JL_K-rV6SV94__5FkrI1VX4vbbk0AOywQ5fhuAKbb4hmEuRvm9RciRHRKDsaDzzdj9aq-zU5C33XiliBRfGGbZS2buqY0VZLnzkhgwdLtUNbx-BtHuZGHShBXxesbH8Yzxp4xrLkeoKZ43WXRJn7KDGERK6BiVO4j4YYLIOWwRq0CUyGrJMoLw2a8KcKpUrRPmxT284JQ6Nn3t9AvKhAkF0KUczLVE0OeseI10nywXoDv5OAYNbOS4eo4QgAd8X3cQgWkYLwsFT4I2-8r2R2ktd5KSX_LyUa7W-idcVJA33WtMo7VouutvyVVAQtfoUqkrxDF2VFTkklAWOUoDQUL_Z5S9MUGPiEnIp8kwVVzivnE84j3QxhNiVpthmjf04w7lhxhluUkyLxG9yDncr71ZkhpoXj9-M-4RNKWAvQ0SlPhHDutnNcALgkDM0533cxeuem0uzvMzrQYSKo8KYydGHgcTRUTWOPFyV]--></g></svg>
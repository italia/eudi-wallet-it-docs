<?xml version="1.0" encoding="windows-1252" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1670px" preserveAspectRatio="none" style="width:1569px;height:1670px;background:#FFFFFF;" version="1.1" viewBox="0 0 1569 1670" width="1569px" zoomAndPan="magnify"><defs/><g><rect fill="#ADD8E6" height="1658.3672" style="stroke:#181818;stroke-width:0.5;" width="457.5" x="336" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="108" x="510.75" y="18.0669">User's Devices</text><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="33.5" y="934.8828"/><rect fill="#FFFFFF" height="1104.1797" style="stroke:#181818;stroke-width:1.0;" width="10" x="397.5" y="313.2266"/><rect fill="#FFFFFF" height="171.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="1241.5" y="141.5625"/><rect fill="#FFFFFF" height="409.125" style="stroke:#181818;stroke-width:1.0;" width="10" x="1241.5" y="1008.2813"/><rect fill="none" height="220.1953" style="stroke:#000000;stroke-width:1.5;" width="789.5" x="10" y="328.2266"/><rect fill="none" height="117.5313" style="stroke:#000000;stroke-width:1.5;" width="1217.5" x="330" y="662.8203"/><rect fill="none" height="46.2656" style="stroke:#000000;stroke-width:1.5;" width="469.5" x="330" y="1432.4063"/><rect fill="none" height="75.3984" style="stroke:#000000;stroke-width:1.5;" width="623.5" x="687.5" y="1492.6719"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="38" x2="38" y1="81.2969" y2="1585.0703"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="402" x2="402" y1="81.2969" y2="1585.0703"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="743.5" x2="743.5" y1="81.2969" y2="1585.0703"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1246" x2="1246" y1="81.2969" y2="1585.0703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="20" y="77.9951">User</text><ellipse cx="38.5" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M38.5,21.5 L38.5,48.5 M25.5,29.5 L51.5,29.5 M38.5,48.5 L25.5,63.5 M38.5,48.5 L51.5,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="20" y="1597.0654">User</text><ellipse cx="38.5" cy="1608.8672" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M38.5,1616.8672 L38.5,1643.8672 M25.5,1624.8672 L51.5,1624.8672 M38.5,1643.8672 L25.5,1658.8672 M38.5,1643.8672 L51.5,1658.8672 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125" x="340" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="347" y="69.9951">Wallet Instance</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125" x="340" y="1584.0703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="347" y="1604.0654">Wallet Instance</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="697.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="704.5" y="69.9951">user-agent</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="697.5" y="1584.0703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="704.5" y="1604.0654">user-agent</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="1192" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="1199" y="69.9951">Relying Party</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="1192" y="1584.0703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="1199" y="1604.0654">Relying Party</text><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="33.5" y="934.8828"/><rect fill="#FFFFFF" height="1104.1797" style="stroke:#181818;stroke-width:1.0;" width="10" x="397.5" y="313.2266"/><rect fill="#FFFFFF" height="171.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="1241.5" y="141.5625"/><rect fill="#FFFFFF" height="409.125" style="stroke:#181818;stroke-width:1.0;" width="10" x="1241.5" y="1008.2813"/><polygon fill="#181818" points="731.5,108.4297,741.5,112.4297,731.5,116.4297,735.5,112.4297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="38.5" x2="737.5" y1="112.4297" y2="112.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="45.5" y="107.3638">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="58.5" y="107.3638">Web Service navigation</text><polygon fill="#181818" points="1229.5,137.5625,1239.5,141.5625,1229.5,145.5625,1233.5,141.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="743.5" x2="1235.5" y1="141.5625" y2="141.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="750.5" y="136.4966">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="763.5" y="136.4966">Request Protected Resource</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1562.5" x="0" y="170.1289"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1562.5" y1="170.1289" y2="170.1289"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1562.5" y1="173.1289" y2="173.1289"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="339" x="611.75" y="159.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="320" x="617.75" y="175.6294">User Authentication (Presentation Phase)</text><line style="stroke:#181818;stroke-width:1.0;" x1="1251.5" x2="1293.5" y1="228.9609" y2="228.9609"/><line style="stroke:#181818;stroke-width:1.0;" x1="1293.5" x2="1293.5" y1="228.9609" y2="241.9609"/><line style="stroke:#181818;stroke-width:1.0;" x1="1252.5" x2="1293.5" y1="241.9609" y2="241.9609"/><polygon fill="#181818" points="1262.5,237.9609,1252.5,241.9609,1262.5,245.9609,1258.5,241.9609" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8" x="1258.5" y="216.3286">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55" x="1270.5" y="208.7622">Create a</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="42" x="1329.5" y="208.7622">state</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="1375.5" y="208.7622">value</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="1270.5" y="223.895">bound to user-agent cookie</text><line style="stroke:#181818;stroke-width:1.0;" x1="1251.5" x2="1293.5" y1="271.0938" y2="271.0938"/><line style="stroke:#181818;stroke-width:1.0;" x1="1293.5" x2="1293.5" y1="271.0938" y2="284.0938"/><line style="stroke:#181818;stroke-width:1.0;" x1="1252.5" x2="1293.5" y1="284.0938" y2="284.0938"/><polygon fill="#181818" points="1262.5,280.0938,1252.5,284.0938,1262.5,288.0938,1258.5,284.0938" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1258.5" y="266.0278">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179" x="1271.5" y="266.0278">Create request_uri resource</text><polygon fill="#181818" points="754.5,309.2266,744.5,313.2266,754.5,317.2266,750.5,313.2266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="748.5" x2="1245.5" y1="313.2266" y2="313.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="760.5" y="308.1606">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="415" x="773.5" y="308.1606">QRCode OR HTTP Redirect (302) with client_id, request_uri, state</text><path d="M10,328.2266 L188,328.2266 L188,335.3594 L178,345.3594 L10,345.3594 L10,328.2266 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="220.1953" style="stroke:#000000;stroke-width:1.5;" width="789.5" x="10" y="328.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="133" x="25" y="341.2935">Cross Device only</text><polygon fill="#181818" points="49.5,362.4922,39.5,366.4922,49.5,370.4922,45.5,366.4922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="43.5" x2="742.5" y1="366.4922" y2="366.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="55.5" y="361.4263">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="68.5" y="361.4263">Show the QRCode page</text><polygon fill="#181818" points="385.5,391.625,395.5,395.625,385.5,399.625,389.5,395.625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="38.5" x2="391.5" y1="395.625" y2="395.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="45.5" y="390.5591">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="322" x="58.5" y="390.5591">Open the Wallet Instance app, local authentication</text><line style="stroke:#181818;stroke-width:1.0;" x1="407.5" x2="449.5" y1="424.7578" y2="424.7578"/><line style="stroke:#181818;stroke-width:1.0;" x1="449.5" x2="449.5" y1="424.7578" y2="437.7578"/><line style="stroke:#181818;stroke-width:1.0;" x1="408.5" x2="449.5" y1="437.7578" y2="437.7578"/><polygon fill="#181818" points="418.5,433.7578,408.5,437.7578,418.5,441.7578,414.5,437.7578" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="414.5" y="419.6919">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="427.5" y="419.6919">Scan QR Code</text><line style="stroke:#181818;stroke-width:1.0;" x1="407.5" x2="449.5" y1="527.4219" y2="527.4219"/><line style="stroke:#181818;stroke-width:1.0;" x1="449.5" x2="449.5" y1="527.4219" y2="540.4219"/><line style="stroke:#181818;stroke-width:1.0;" x1="408.5" x2="449.5" y1="540.4219" y2="540.4219"/><polygon fill="#181818" points="418.5,536.4219,408.5,540.4219,418.5,544.4219,414.5,540.4219" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="414.5" y="492.0903">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="427.5" y="461.8247">Extract</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="427.5" y="476.9575">client_id</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="427.5" y="492.0903">request_uri</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61" x="427.5" y="507.2231">and state</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="427.5" y="522.356">from the QR Code</text><line style="stroke:#181818;stroke-width:1.0;" x1="407.5" x2="449.5" y1="576.5547" y2="576.5547"/><line style="stroke:#181818;stroke-width:1.0;" x1="449.5" x2="449.5" y1="576.5547" y2="589.5547"/><line style="stroke:#181818;stroke-width:1.0;" x1="408.5" x2="449.5" y1="589.5547" y2="589.5547"/><polygon fill="#181818" points="418.5,585.5547,408.5,589.5547,418.5,593.5547,414.5,589.5547" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="414.5" y="571.4888">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="209" x="437.5" y="571.4888">evaluates trust with the client_id</text><polygon fill="#181818" points="1234.5,614.6875,1244.5,618.6875,1234.5,622.6875,1238.5,618.6875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="407.5" x2="1240.5" y1="618.6875" y2="618.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="414.5" y="613.6216">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="419" x="436.5" y="613.6216">requests the signed request object from the request_uri endpoint</text><polygon fill="#181818" points="418.5,643.8203,408.5,647.8203,418.5,651.8203,414.5,647.8203" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="412.5" x2="1245.5" y1="647.8203" y2="647.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="424.5" y="642.7544">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="446.5" y="642.7544">signed request object</text><path d="M330,662.8203 L396,662.8203 L396,669.9531 L386,679.9531 L330,679.9531 L330,662.8203 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="117.5313" style="stroke:#000000;stroke-width:1.5;" width="1217.5" x="330" y="662.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="345" y="675.8872">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="273" x="411" y="675.0308">[if request_uri_method is set with POST]</text><polygon fill="#181818" points="1234.5,697.0859,1244.5,701.0859,1234.5,705.0859,1238.5,701.0859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="407.5" x2="1240.5" y1="701.0859" y2="701.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="414.5" y="696.02">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="344" x="435.5" y="696.02">provides Wallet metadata to the request_uri endpoint</text><line style="stroke:#181818;stroke-width:1.0;" x1="1246.5" x2="1288.5" y1="730.2188" y2="730.2188"/><line style="stroke:#181818;stroke-width:1.0;" x1="1288.5" x2="1288.5" y1="730.2188" y2="743.2188"/><line style="stroke:#181818;stroke-width:1.0;" x1="1247.5" x2="1288.5" y1="743.2188" y2="743.2188"/><polygon fill="#181818" points="1257.5,739.2188,1247.5,743.2188,1257.5,747.2188,1253.5,743.2188" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1253.5" y="725.1528">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260" x="1275.5" y="725.1528">evaluates the Wallet tecnical capabilities</text><polygon fill="#181818" points="418.5,768.3516,408.5,772.3516,418.5,776.3516,414.5,772.3516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="412.5" x2="1245.5" y1="772.3516" y2="772.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="424.5" y="767.2856">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="446.5" y="767.2856">updated signed request object</text><line style="stroke:#181818;stroke-width:1.0;" x1="407.5" x2="449.5" y1="808.4844" y2="808.4844"/><line style="stroke:#181818;stroke-width:1.0;" x1="449.5" x2="449.5" y1="808.4844" y2="821.4844"/><line style="stroke:#181818;stroke-width:1.0;" x1="408.5" x2="449.5" y1="821.4844" y2="821.4844"/><polygon fill="#181818" points="418.5,817.4844,408.5,821.4844,418.5,825.4844,414.5,821.4844" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="414.5" y="803.4185">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="295" x="436.5" y="803.4185">evaluates Relying Party Metadata and policies</text><line style="stroke:#181818;stroke-width:1.0;" x1="407.5" x2="449.5" y1="850.6172" y2="850.6172"/><line style="stroke:#181818;stroke-width:1.0;" x1="449.5" x2="449.5" y1="850.6172" y2="863.6172"/><line style="stroke:#181818;stroke-width:1.0;" x1="408.5" x2="449.5" y1="863.6172" y2="863.6172"/><polygon fill="#181818" points="418.5,859.6172,408.5,863.6172,418.5,867.6172,414.5,863.6172" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="414.5" y="845.5513">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="292" x="436.5" y="845.5513">Verify signature of the signed Request Object</text><line style="stroke:#181818;stroke-width:1.0;" x1="407.5" x2="449.5" y1="892.75" y2="892.75"/><line style="stroke:#181818;stroke-width:1.0;" x1="449.5" x2="449.5" y1="892.75" y2="905.75"/><line style="stroke:#181818;stroke-width:1.0;" x1="408.5" x2="449.5" y1="905.75" y2="905.75"/><polygon fill="#181818" points="418.5,901.75,408.5,905.75,418.5,909.75,414.5,905.75" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="414.5" y="887.6841">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163" x="436.5" y="887.6841">Validate Requested VP(s)</text><polygon fill="#181818" points="54.5,930.8828,44.5,934.8828,54.5,938.8828,50.5,934.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="48.5" x2="396.5" y1="934.8828" y2="934.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="60.5" y="929.8169">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="82.5" y="929.8169">Request for consent</text><polygon fill="#181818" points="385.5,960.0156,395.5,964.0156,385.5,968.0156,389.5,964.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="38.5" x2="391.5" y1="964.0156" y2="964.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="45.5" y="958.9497">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="68.5" y="958.9497">Confirmed</text><polygon fill="#181818" points="1229.5,1004.2813,1239.5,1008.2813,1229.5,1012.2813,1233.5,1008.2813" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="407.5" x2="1235.5" y1="1008.2813" y2="1008.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="414.5" y="995.6489">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="436.5" y="988.0825">POST Authorization Response</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="440.5" y="1003.2153">with vp_token</text><line style="stroke:#181818;stroke-width:1.0;" x1="1251.5" x2="1293.5" y1="1037.4141" y2="1037.4141"/><line style="stroke:#181818;stroke-width:1.0;" x1="1293.5" x2="1293.5" y1="1037.4141" y2="1050.4141"/><line style="stroke:#181818;stroke-width:1.0;" x1="1252.5" x2="1293.5" y1="1050.4141" y2="1050.4141"/><polygon fill="#181818" points="1262.5,1046.4141,1252.5,1050.4141,1262.5,1054.4141,1258.5,1050.4141" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1258.5" y="1032.3481">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="270" x="1280.5" y="1032.3481">Evaluate the Verifiable Presentation token</text><line style="stroke:#181818;stroke-width:1.0;" x1="1251.5" x2="1293.5" y1="1124.9453" y2="1124.9453"/><line style="stroke:#181818;stroke-width:1.0;" x1="1293.5" x2="1293.5" y1="1124.9453" y2="1137.9453"/><line style="stroke:#181818;stroke-width:1.0;" x1="1252.5" x2="1293.5" y1="1137.9453" y2="1137.9453"/><polygon fill="#181818" points="1262.5,1133.9453,1252.5,1137.9453,1262.5,1141.9453,1258.5,1137.9453" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="1258.5" y="1097.1802">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="1279.5" y="1074.481">Validate the Wallet Attestation.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="1279.5" y="1089.6138">Attest the Wallet Provider</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="1283.5" y="1104.7466">is part of the Federation</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="250" x="1283.5" y="1119.8794">and the Wallet Instance is not revoked.</text><line style="stroke:#181818;stroke-width:1.0;" x1="1251.5" x2="1293.5" y1="1182.2109" y2="1182.2109"/><line style="stroke:#181818;stroke-width:1.0;" x1="1293.5" x2="1293.5" y1="1182.2109" y2="1195.2109"/><line style="stroke:#181818;stroke-width:1.0;" x1="1252.5" x2="1293.5" y1="1195.2109" y2="1195.2109"/><polygon fill="#181818" points="1262.5,1191.2109,1252.5,1195.2109,1262.5,1199.2109,1258.5,1195.2109" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1258.5" y="1169.5786">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="1280.5" y="1162.0122">Attest Credential Issuer Trust</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174" x="1284.5" y="1177.145">and Validate JWT Signature</text><line style="stroke:#181818;stroke-width:1.0;" x1="1251.5" x2="1293.5" y1="1224.3438" y2="1224.3438"/><line style="stroke:#181818;stroke-width:1.0;" x1="1293.5" x2="1293.5" y1="1224.3438" y2="1237.3438"/><line style="stroke:#181818;stroke-width:1.0;" x1="1252.5" x2="1293.5" y1="1237.3438" y2="1237.3438"/><polygon fill="#181818" points="1262.5,1233.3438,1252.5,1237.3438,1262.5,1241.3438,1258.5,1237.3438" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1258.5" y="1219.2778">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="1280.5" y="1219.2778">Process the credential</text><rect fill="#90EE90" height="83" style="stroke:#181818;stroke-width:0.5;" width="543" x="975" y="1250.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="979" y="1266.4106">Process the credential:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="325" x="983" y="1281.5435">Check Holder Key Binding and Proof of Possession:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="449" x="983" y="1296.6763">- using the public key bound in\n the Credential to verify the VP token.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="979" y="1311.8091"> </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="531" x="983" y="1326.9419">Then Extract the disclosed attributes: \n Check if all the required data are available</text><line style="stroke:#181818;stroke-width:1.0;" x1="1251.5" x2="1293.5" y1="1360.1406" y2="1360.1406"/><line style="stroke:#181818;stroke-width:1.0;" x1="1293.5" x2="1293.5" y1="1360.1406" y2="1373.1406"/><line style="stroke:#181818;stroke-width:1.0;" x1="1252.5" x2="1293.5" y1="1373.1406" y2="1373.1406"/><polygon fill="#181818" points="1262.5,1369.1406,1252.5,1373.1406,1262.5,1377.1406,1258.5,1373.1406" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1258.5" y="1355.0747">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="268" x="1280.5" y="1355.0747">Update the User session (cookie updated)</text><polygon fill="#181818" points="413.5,1413.4063,403.5,1417.4063,413.5,1421.4063,409.5,1417.4063" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="407.5" x2="1245.5" y1="1417.4063" y2="1417.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="419.5" y="1404.7739">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="441.5" y="1397.2075">HTTP/1.1 200 OK</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="298" x="445.5" y="1412.3403">{"redirect_uri": https url with response_code }</text><path d="M330,1432.4063 L506,1432.4063 L506,1439.5391 L496,1449.5391 L330,1449.5391 L330,1432.4063 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="46.2656" style="stroke:#000000;stroke-width:1.5;" width="469.5" x="330" y="1432.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="131" x="345" y="1445.4731">Same Device only</text><polygon fill="#181818" points="731.5,1466.6719,741.5,1470.6719,731.5,1474.6719,735.5,1470.6719" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="402.5" x2="737.5" y1="1470.6719" y2="1470.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="409.5" y="1465.606">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="431.5" y="1465.606">Use the redirect_uri</text><path d="M687.5,1492.6719 L865.5,1492.6719 L865.5,1499.8047 L855.5,1509.8047 L687.5,1509.8047 L687.5,1492.6719 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="75.3984" style="stroke:#000000;stroke-width:1.5;" width="623.5" x="687.5" y="1492.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="133" x="702.5" y="1505.7388">Cross Device only</text><polygon fill="#181818" points="1234.5,1526.9375,1244.5,1530.9375,1234.5,1534.9375,1238.5,1530.9375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="743.5" x2="1240.5" y1="1530.9375" y2="1530.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="750.5" y="1525.8716">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="425" x="772.5" y="1525.8716">QRCode JS: Check authentication state (HTTP request with cookie)</text><polygon fill="#181818" points="754.5,1556.0703,744.5,1560.0703,754.5,1564.0703,750.5,1560.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="748.5" x2="1245.5" y1="1560.0703" y2="1560.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="760.5" y="1555.0044">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="457" x="782.5" y="1555.0044">Authentication state given with HTTP codes, untill expired or successful</text><!--SRC=[VLLDKnj74BtFh-YI3m4A27PkgY9Lc123xGGPoUQYAcgqsv8cB3ER-LYXfFBV_MPcTxLoGLmShDd-UA_xTRSCtkZmj60hXBWelB4q-khOZaWw2a8ip7D- -CdHRzoeWjs8tdnMgxL_NmKMjRHU5QgMsjFeNbOLUxhHpajTS8gnsJS927KYLwnzpY05wvAGPT_iZgkjqYkQu76RB1iM8j39ht0PqpqlQCesmY4j6xMINXajWem63O_fZlyEx3nDhF5SU2xnuaom1QASdrCaH1V1hu535ScP3YQM7NxdNvErT7n8v-T25burqdD4q72NuD9oV9DqT0Iode-Eg94eo5mlJ00ZRsX7bGfZ7jKBxZR3V0XMuVyjm6mLQNwvkpGbq-qTNSzc4r0ebGKRElZbxDqXRPHVKr4f97XGvV4ms34bKABa8Ngnux8HOcLDg074kAwpP7IrROiOnZHTcmsXH1sC6bnY2_1rCwRRcdNw-aFJITRrCLMca1N9lGgB3MNNQI4rWbACsZzUFNiBU7FTCvhh0QEvbgXgOZNNIskUMcGv23Ga-aWS6m4xHzu6Q23LALhtaRDfx4ERmQNlJgqqbDA-aLdy5OlT9nis2mbhexHFpSffN_H6oIjFQZbqVdXYlpObAKUEMtYJs-bC2CA_7bfjJQDAi6WB32zPIY-Zj5w54oFiL3QenAvHc0UjOdSAMSk5gfHNx7h7p2NKo0Goht1wfTnxGqj_T7XZusfJORQHf_FwnbOjjoc1zC52UyjX3xhvlSqPUozPgOYi-mxBRvC3TvWDmcxkbzXZXT5nddUY3plrNXgzLFQ9o-68X9qkOZ_IWZ1M_PCt0XP87IFINEUUDVM3Du-iNzaGLsrT4gr4Lyb5nRItPdA0dLDFSD2m2u_YPljJ9Cy_XmQJh1GBOD1KtADTDNzdF2TFV8jzU6bWuQEDHvCRW2bF1sZQL5XMPHnZQER6kO3LEOk3rORi8N-ydz6qw-SW2k3XQcGD5dqe8IooekyDui7upUUR3zUp3tTNLt-Abpt6WYxNN3pIjQb0YpxnbjuhNKR9HI3m0ctyJR3Iu0xMS3d17euMCLOT5f0XFS8nRsaLwnA_32XYl9eipjIuIUxHAQPpXcNMxQdqiLIkg8o32gNtLYq2oZME-iWuCVOeTJ-isDqbvOc0tcKZLHK54QSfbK8CQlQrxbMGRbNBXmxo9Ua6z9062oZUY9_VdhwbTsTdTFi9CFuTsVPan2qn6jFQ-nf7rrPPmRQLz4CHz_j_mrdO_7WxyhcOoYVUknQRxbO1Pijqbp4lYly_D95jUs0-JiTjvVOFHrxxT92EOBUBylLBrJZiYX1nNBpakb8DjrERWaI-xfW2xD0WVgvJRx0pN2YYyfQXYjY_0m00]--></g></svg>
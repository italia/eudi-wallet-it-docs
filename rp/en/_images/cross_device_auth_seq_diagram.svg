<?xml version="1.0" encoding="windows-1252" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1596px" preserveAspectRatio="none" style="width:1498px;height:1596px;background:#FFFFFF;" version="1.1" viewBox="0 0 1498 1596" width="1498px" zoomAndPan="magnify"><defs/><g><rect fill="#ADD8E6" height="1584.1016" style="stroke:#181818;stroke-width:0.5;" width="353.5" x="336" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="108" x="458.75" y="18.0669">User's Devices</text><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="33.5" y="860.6172"/><rect fill="#FFFFFF" height="1014.7813" style="stroke:#181818;stroke-width:1.0;" width="10" x="397.5" y="328.3594"/><rect fill="#FFFFFF" height="186.7969" style="stroke:#181818;stroke-width:1.0;" width="10" x="1167.5" y="141.5625"/><rect fill="#FFFFFF" height="71.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="1167.5" y="591.6875"/><rect fill="#FFFFFF" height="409.125" style="stroke:#181818;stroke-width:1.0;" width="10" x="1167.5" y="934.0156"/><rect fill="none" height="220.1953" style="stroke:#000000;stroke-width:1.5;" width="685.5" x="10" y="343.3594"/><rect fill="none" height="46.2656" style="stroke:#000000;stroke-width:1.5;" width="365.5" x="330" y="1358.1406"/><rect fill="none" height="75.3984" style="stroke:#000000;stroke-width:1.5;" width="653.5" x="583.5" y="1418.4063"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="38" x2="38" y1="81.2969" y2="1510.8047"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="402" x2="402" y1="81.2969" y2="1510.8047"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="639.5" x2="639.5" y1="81.2969" y2="1510.8047"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1172" x2="1172" y1="81.2969" y2="1510.8047"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="20" y="77.9951">User</text><ellipse cx="38.5" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M38.5,21.5 L38.5,48.5 M25.5,29.5 L51.5,29.5 M38.5,48.5 L25.5,63.5 M38.5,48.5 L51.5,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="20" y="1522.7998">User</text><ellipse cx="38.5" cy="1534.6016" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M38.5,1542.6016 L38.5,1569.6016 M25.5,1550.6016 L51.5,1550.6016 M38.5,1569.6016 L25.5,1584.6016 M38.5,1569.6016 L51.5,1584.6016 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125" x="340" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="347" y="69.9951">Wallet Instance</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125" x="340" y="1509.8047"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="347" y="1529.7998">Wallet Instance</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="593.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="600.5" y="69.9951">user-agent</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="92" x="593.5" y="1509.8047"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="600.5" y="1529.7998">user-agent</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="1118" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="1125" y="69.9951">Relying Party</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="1118" y="1509.8047"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="1125" y="1529.7998">Relying Party</text><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="33.5" y="860.6172"/><rect fill="#FFFFFF" height="1014.7813" style="stroke:#181818;stroke-width:1.0;" width="10" x="397.5" y="328.3594"/><rect fill="#FFFFFF" height="186.7969" style="stroke:#181818;stroke-width:1.0;" width="10" x="1167.5" y="141.5625"/><rect fill="#FFFFFF" height="71.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="1167.5" y="591.6875"/><rect fill="#FFFFFF" height="409.125" style="stroke:#181818;stroke-width:1.0;" width="10" x="1167.5" y="934.0156"/><polygon fill="#181818" points="627.5,108.4297,637.5,112.4297,627.5,116.4297,631.5,112.4297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="38.5" x2="633.5" y1="112.4297" y2="112.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="45.5" y="107.3638">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="58.5" y="107.3638">Web Service navigation</text><polygon fill="#181818" points="1155.5,137.5625,1165.5,141.5625,1155.5,145.5625,1159.5,141.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="639.5" x2="1161.5" y1="141.5625" y2="141.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="646.5" y="136.4966">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="659.5" y="136.4966">Request Protected Resource</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1491.5" x="0" y="170.1289"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1491.5" y1="170.1289" y2="170.1289"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1491.5" y1="173.1289" y2="173.1289"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="339" x="576.25" y="159.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="320" x="582.25" y="175.6294">User Authentication (Presentation Phase)</text><line style="stroke:#181818;stroke-width:1.0;" x1="1177.5" x2="1219.5" y1="228.9609" y2="228.9609"/><line style="stroke:#181818;stroke-width:1.0;" x1="1219.5" x2="1219.5" y1="228.9609" y2="241.9609"/><line style="stroke:#181818;stroke-width:1.0;" x1="1178.5" x2="1219.5" y1="241.9609" y2="241.9609"/><polygon fill="#181818" points="1188.5,237.9609,1178.5,241.9609,1188.5,245.9609,1184.5,241.9609" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8" x="1184.5" y="216.3286">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55" x="1196.5" y="208.7622">Create a</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="42" x="1255.5" y="208.7622">state</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="1301.5" y="208.7622">value</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="1196.5" y="223.895">bound to user-agent cookie</text><line style="stroke:#181818;stroke-width:1.0;" x1="1177.5" x2="1219.5" y1="286.2266" y2="286.2266"/><line style="stroke:#181818;stroke-width:1.0;" x1="1219.5" x2="1219.5" y1="286.2266" y2="299.2266"/><line style="stroke:#181818;stroke-width:1.0;" x1="1178.5" x2="1219.5" y1="299.2266" y2="299.2266"/><polygon fill="#181818" points="1188.5,295.2266,1178.5,299.2266,1188.5,303.2266,1184.5,299.2266" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="1184.5" y="273.5942">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179" x="1197.5" y="266.0278">Create request_uri resource</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157" x="1201.5" y="281.1606">with a random fragment</text><polygon fill="#181818" points="650.5,324.3594,640.5,328.3594,650.5,332.3594,646.5,328.3594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="644.5" x2="1171.5" y1="328.3594" y2="328.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="656.5" y="323.2935">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="491" x="669.5" y="323.2935">QRCode OR HTTP Redirect (302) with client_id, request_uri and discovery_uri</text><path d="M10,343.3594 L188,343.3594 L188,350.4922 L178,360.4922 L10,360.4922 L10,343.3594 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="220.1953" style="stroke:#000000;stroke-width:1.5;" width="685.5" x="10" y="343.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="133" x="25" y="356.4263">Cross Device only</text><polygon fill="#181818" points="49.5,377.625,39.5,381.625,49.5,385.625,45.5,381.625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="43.5" x2="638.5" y1="381.625" y2="381.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="55.5" y="376.5591">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="68.5" y="376.5591">Show the QRCode page</text><polygon fill="#181818" points="385.5,406.7578,395.5,410.7578,385.5,414.7578,389.5,410.7578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="38.5" x2="391.5" y1="410.7578" y2="410.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="45.5" y="405.6919">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="322" x="58.5" y="405.6919">Open the Wallet Instance app, local authentication</text><line style="stroke:#181818;stroke-width:1.0;" x1="407.5" x2="449.5" y1="439.8906" y2="439.8906"/><line style="stroke:#181818;stroke-width:1.0;" x1="449.5" x2="449.5" y1="439.8906" y2="452.8906"/><line style="stroke:#181818;stroke-width:1.0;" x1="408.5" x2="449.5" y1="452.8906" y2="452.8906"/><polygon fill="#181818" points="418.5,448.8906,408.5,452.8906,418.5,456.8906,414.5,452.8906" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="414.5" y="434.8247">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="427.5" y="434.8247">Scan QR Code</text><line style="stroke:#181818;stroke-width:1.0;" x1="407.5" x2="449.5" y1="542.5547" y2="542.5547"/><line style="stroke:#181818;stroke-width:1.0;" x1="449.5" x2="449.5" y1="542.5547" y2="555.5547"/><line style="stroke:#181818;stroke-width:1.0;" x1="408.5" x2="449.5" y1="555.5547" y2="555.5547"/><polygon fill="#181818" points="418.5,551.5547,408.5,555.5547,418.5,559.5547,414.5,555.5547" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="414.5" y="507.2231">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="427.5" y="476.9575">Extract</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="427.5" y="492.0903">client_id</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="427.5" y="507.2231">request_uri</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="427.5" y="522.356">and discovery_uri</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="427.5" y="537.4888">from the QR Code</text><polygon fill="#181818" points="1155.5,587.6875,1165.5,591.6875,1155.5,595.6875,1159.5,591.6875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="407.5" x2="1161.5" y1="591.6875" y2="591.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="414.5" y="586.6216">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="410" x="437.5" y="586.6216">POST Wallet Technical Capabilities to the discovery_uri endpoint</text><line style="stroke:#181818;stroke-width:1.0;" x1="1177.5" x2="1219.5" y1="620.8203" y2="620.8203"/><line style="stroke:#181818;stroke-width:1.0;" x1="1219.5" x2="1219.5" y1="620.8203" y2="633.8203"/><line style="stroke:#181818;stroke-width:1.0;" x1="1178.5" x2="1219.5" y1="633.8203" y2="633.8203"/><polygon fill="#181818" points="1188.5,629.8203,1178.5,633.8203,1188.5,637.8203,1184.5,633.8203" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1184.5" y="615.7544">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="273" x="1206.5" y="615.7544">evaluates the Wallet Technical Capabilities</text><polygon fill="#181818" points="418.5,658.9531,408.5,662.9531,418.5,666.9531,414.5,662.9531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="412.5" x2="1171.5" y1="662.9531" y2="662.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="424.5" y="657.8872">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="446.5" y="657.8872">Request Object</text><line style="stroke:#181818;stroke-width:1.0;" x1="407.5" x2="449.5" y1="692.0859" y2="692.0859"/><line style="stroke:#181818;stroke-width:1.0;" x1="449.5" x2="449.5" y1="692.0859" y2="705.0859"/><line style="stroke:#181818;stroke-width:1.0;" x1="408.5" x2="449.5" y1="705.0859" y2="705.0859"/><polygon fill="#181818" points="418.5,701.0859,408.5,705.0859,418.5,709.0859,414.5,705.0859" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="414.5" y="687.02">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="435.5" y="687.02">Attest Relying Party Trust</text><line style="stroke:#181818;stroke-width:1.0;" x1="407.5" x2="449.5" y1="734.2188" y2="734.2188"/><line style="stroke:#181818;stroke-width:1.0;" x1="449.5" x2="449.5" y1="734.2188" y2="747.2188"/><line style="stroke:#181818;stroke-width:1.0;" x1="408.5" x2="449.5" y1="747.2188" y2="747.2188"/><polygon fill="#181818" points="418.5,743.2188,408.5,747.2188,418.5,751.2188,414.5,747.2188" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="414.5" y="729.1528">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="191" x="436.5" y="729.1528">Verify Relying Party Metadata</text><line style="stroke:#181818;stroke-width:1.0;" x1="407.5" x2="449.5" y1="776.3516" y2="776.3516"/><line style="stroke:#181818;stroke-width:1.0;" x1="449.5" x2="449.5" y1="776.3516" y2="789.3516"/><line style="stroke:#181818;stroke-width:1.0;" x1="408.5" x2="449.5" y1="789.3516" y2="789.3516"/><polygon fill="#181818" points="418.5,785.3516,408.5,789.3516,418.5,793.3516,414.5,789.3516" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="414.5" y="771.2856">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="436.5" y="771.2856">Validate JWT Signature</text><line style="stroke:#181818;stroke-width:1.0;" x1="407.5" x2="449.5" y1="818.4844" y2="818.4844"/><line style="stroke:#181818;stroke-width:1.0;" x1="449.5" x2="449.5" y1="818.4844" y2="831.4844"/><line style="stroke:#181818;stroke-width:1.0;" x1="408.5" x2="449.5" y1="831.4844" y2="831.4844"/><polygon fill="#181818" points="418.5,827.4844,408.5,831.4844,418.5,835.4844,414.5,831.4844" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="414.5" y="813.4185">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163" x="436.5" y="813.4185">Validate Requested VP(s)</text><polygon fill="#181818" points="54.5,856.6172,44.5,860.6172,54.5,864.6172,50.5,860.6172" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="48.5" x2="396.5" y1="860.6172" y2="860.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="60.5" y="855.5513">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="82.5" y="855.5513">Request for consent</text><polygon fill="#181818" points="385.5,885.75,395.5,889.75,385.5,893.75,389.5,889.75" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="38.5" x2="391.5" y1="889.75" y2="889.75"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="45.5" y="884.6841">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="67.5" y="884.6841">Confirmed</text><polygon fill="#181818" points="1155.5,930.0156,1165.5,934.0156,1155.5,938.0156,1159.5,934.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="407.5" x2="1161.5" y1="934.0156" y2="934.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="414.5" y="921.3833">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="436.5" y="913.8169">POST Authorization Response</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="440.5" y="928.9497">with vp_token</text><line style="stroke:#181818;stroke-width:1.0;" x1="1177.5" x2="1219.5" y1="963.1484" y2="963.1484"/><line style="stroke:#181818;stroke-width:1.0;" x1="1219.5" x2="1219.5" y1="963.1484" y2="976.1484"/><line style="stroke:#181818;stroke-width:1.0;" x1="1178.5" x2="1219.5" y1="976.1484" y2="976.1484"/><polygon fill="#181818" points="1188.5,972.1484,1178.5,976.1484,1188.5,980.1484,1184.5,976.1484" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="1184.5" y="958.0825">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="270" x="1207.5" y="958.0825">Evaluate the Verifiable Presentation token</text><line style="stroke:#181818;stroke-width:1.0;" x1="1177.5" x2="1219.5" y1="1050.6797" y2="1050.6797"/><line style="stroke:#181818;stroke-width:1.0;" x1="1219.5" x2="1219.5" y1="1050.6797" y2="1063.6797"/><line style="stroke:#181818;stroke-width:1.0;" x1="1178.5" x2="1219.5" y1="1063.6797" y2="1063.6797"/><polygon fill="#181818" points="1188.5,1059.6797,1178.5,1063.6797,1188.5,1067.6797,1184.5,1063.6797" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1184.5" y="1022.9146">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="258" x="1206.5" y="1000.2153">Validate the Wallet Instance Attestation.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="1206.5" y="1015.3481">Attest the Wallet Provider</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="1210.5" y="1030.481">is part of the Federation</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="250" x="1210.5" y="1045.6138">and the Wallet Instance is not revoked.</text><line style="stroke:#181818;stroke-width:1.0;" x1="1177.5" x2="1219.5" y1="1107.9453" y2="1107.9453"/><line style="stroke:#181818;stroke-width:1.0;" x1="1219.5" x2="1219.5" y1="1107.9453" y2="1120.9453"/><line style="stroke:#181818;stroke-width:1.0;" x1="1178.5" x2="1219.5" y1="1120.9453" y2="1120.9453"/><polygon fill="#181818" points="1188.5,1116.9453,1178.5,1120.9453,1188.5,1124.9453,1184.5,1120.9453" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1184.5" y="1095.313">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="1206.5" y="1087.7466">Attest Credential Issuer Trust</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174" x="1210.5" y="1102.8794">and Validate JWT Signature</text><line style="stroke:#181818;stroke-width:1.0;" x1="1177.5" x2="1219.5" y1="1150.0781" y2="1150.0781"/><line style="stroke:#181818;stroke-width:1.0;" x1="1219.5" x2="1219.5" y1="1150.0781" y2="1163.0781"/><line style="stroke:#181818;stroke-width:1.0;" x1="1178.5" x2="1219.5" y1="1163.0781" y2="1163.0781"/><polygon fill="#181818" points="1188.5,1159.0781,1178.5,1163.0781,1188.5,1167.0781,1184.5,1163.0781" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="1184.5" y="1145.0122">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="1205.5" y="1145.0122">Process the credential</text><rect fill="#90EE90" height="83" style="stroke:#181818;stroke-width:0.5;" width="543" x="901" y="1176.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="905" y="1192.145">Process the credential:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="325" x="909" y="1207.2778">Check Holder Key Binding and Proof of Possession:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="449" x="909" y="1222.4106">- using the public key bound in\n the Credential to verify the VP token.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="905" y="1237.5435"> </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="531" x="909" y="1252.6763">Then Extract the disclosed attributes: \n Check if all the required data are available</text><line style="stroke:#181818;stroke-width:1.0;" x1="1177.5" x2="1219.5" y1="1285.875" y2="1285.875"/><line style="stroke:#181818;stroke-width:1.0;" x1="1219.5" x2="1219.5" y1="1285.875" y2="1298.875"/><line style="stroke:#181818;stroke-width:1.0;" x1="1178.5" x2="1219.5" y1="1298.875" y2="1298.875"/><polygon fill="#181818" points="1188.5,1294.875,1178.5,1298.875,1188.5,1302.875,1184.5,1298.875" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1184.5" y="1280.8091">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="268" x="1206.5" y="1280.8091">Update the User session (cookie updated)</text><polygon fill="#181818" points="413.5,1339.1406,403.5,1343.1406,413.5,1347.1406,409.5,1343.1406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="407.5" x2="1171.5" y1="1343.1406" y2="1343.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="419.5" y="1330.5083">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="441.5" y="1322.9419">HTTP/1.1 200 OK</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="298" x="445.5" y="1338.0747">{"redirect_uri": https url with response_code }</text><path d="M330,1358.1406 L506,1358.1406 L506,1365.2734 L496,1375.2734 L330,1375.2734 L330,1358.1406 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="46.2656" style="stroke:#000000;stroke-width:1.5;" width="365.5" x="330" y="1358.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="131" x="345" y="1371.2075">Same Device only</text><polygon fill="#181818" points="627.5,1392.4063,637.5,1396.4063,627.5,1400.4063,631.5,1396.4063" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="402.5" x2="633.5" y1="1396.4063" y2="1396.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="409.5" y="1391.3403">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="431.5" y="1391.3403">Use the redirect_uri</text><path d="M583.5,1418.4063 L761.5,1418.4063 L761.5,1425.5391 L751.5,1435.5391 L583.5,1435.5391 L583.5,1418.4063 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="75.3984" style="stroke:#000000;stroke-width:1.5;" width="653.5" x="583.5" y="1418.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="133" x="598.5" y="1431.4731">Cross Device only</text><polygon fill="#181818" points="1160.5,1452.6719,1170.5,1456.6719,1160.5,1460.6719,1164.5,1456.6719" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="639.5" x2="1166.5" y1="1456.6719" y2="1456.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="646.5" y="1451.606">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="425" x="668.5" y="1451.606">QRCode JS: Check authentication state (HTTP request with cookie)</text><polygon fill="#181818" points="650.5,1481.8047,640.5,1485.8047,650.5,1489.8047,646.5,1485.8047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="644.5" x2="1171.5" y1="1485.8047" y2="1485.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="656.5" y="1480.7388">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="457" x="678.5" y="1480.7388">Authentication state given with HTTP codes, untill expired or successful</text><!--SRC=[VLLDSo8t4BthLtIHGy1bEzxDZIgdoakSjNUJm0Axlb3b4fe650_IH1-3IIh_VRkb0GORfye7e-bklTVz-ad6O4rSpz498MvKi0uwNpsw3aWFKOYvVSu7Fthu5Mkjq7VWXz_rSXK-b1559LtGIbVI1EWyoBB40FV61saKfXgRuv18fIxa4at8DqY1fW2wvJXiZELMcoMCw72R8ciK8iB5BvJIXmUSmmGTmm4ZQxsKGLiZekI06limnhyZ-W0ZPmEgW0MTU1kTeYhNry24u2Q65U7GAYL3T-JGq-_yQxII7djmVIsa2hgM0Hb1ZRiB1WxvJCBP6P4DU7O6jQI6pCpSHc8KB1oeWhBsIPz8TndcOtIQ_iy0PmOsEgoej9Eci6jOEBbSKvKcdVb_6GziWJ0SmzrqEY9kXNP44xe_NxtlvNHLQifvrCNvqIrK4WhjbQtHRVb45DXcA0vyDq8idOqLWRL-DtsmfjmsZOvzcApi1gYDEqGLyUKnqTTD7uOLclJrXJ10LjKvb5R94kJH5CG6Skf4IKD5WQlk3s-VWoDuCxCdDpCjSZFpYjtCB1orC2FCnKXl8bVaGOo6a-aEtXJLocW6DP2LdEjI1usUHydvHtM1gbHMqr3Uq0Uo6kZKj_cVlY1bPO8xsGxdVz4uNurcruUR43ZgQ4bWwg8F-v1lwFHY-oBa3mooa44UecIf2ox_wM4A4xqqCaI7hpytk6YDleswlfS3uW7lWcn3MSFhS-X7F0XXOCr2kpKMRKhnnHHu7wtJ_-G5f7sjk2Bizg6k7eDzGlD6ms-RXgT-9_PQpak4ewtE1Gv9UuAdH9gxd18l2KNJz5OacKkj2tI4K7jW_mAxI06_8HsdJFh6eZnLdtAC3RITDQ4gBbkmcgl890fU3TBBlVUHB2lDk2dvnkmELGWUkNKMeDgN4iBHhRJ796KA8o-__tWt_JY-lVrJdCxe2nYiK3t1dIs95dp6BNpGfc1TCH3A8jhqDoARe7HYJIaNv7ySmRMgE2-rWYTApEwekI_yfKMHrgpEeaqJ7ELXNGe1KpA8tUxlLx6qdkGeGt1w7gbTVHPAngaNGArEaUmEP8ta2YHxa8wifvQwP6Mm4QHMY5RFlbPxEQGtek43tUpW4DFteWUjfMKB_kdTvJjuVtK5myy4uz-EQnoPlQBJXrK85JrshinITess7nLxvd_jfTYyNFfimHEvnYC7tkoU0eBPC3tSc3tk_ysRsJQc_MdIRpftRCQGNZRefZUcyTdcSKdTwEsQm3XkJgKkTOtD-gOYpDUVGwGu6X0-LsasP1u-AbRU8fQC_Ji0]--></g></svg>